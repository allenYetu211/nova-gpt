{
    "sourceFile": "src/stores/ChatStore.ts",
    "activeCommit": 0,
    "commits": [
        {
            "activePatchIndex": 28,
            "patches": [
                {
                    "date": 1681789547143,
                    "content": "Index: \n===================================================================\n--- \n+++ \n"
                },
                {
                    "date": 1681789645356,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,15 +1,20 @@\n /*\n  * @Author: Allen OYang\n  * @Email:  allenwill211@gmail.com\n  * @Date: 2023-04-18 11:28:09\n- * @LastEditTime: 2023-04-18 11:45:46\n+ * @LastEditTime: 2023-04-18 11:47:25\n  * @LastEditors: Allen OYang allenwill211@gmail.com\n  * @FilePath: /speak-gpt/src/stores/ChatStore.ts\n  */\n import { create } from \"zustand\";\n import { persist } from \"zustand/middleware\";\n \n+export const excludeKeys = [\n+  'isRecording',\n+  'textareaMessage'\n+];\n+\n export interface ChatState {\n   /**\n    * Chat Components Messages\n    */\n@@ -38,8 +43,8 @@\n   persist(store, {\n     name: 'chat-store',\n     partialize: (state) =>\n       Object.fromEntries(\n-        Object.entries(state).filter(([key]) => !['foo'].includes(key))\n+        Object.entries(state).filter(([key]) => !excludeKeys.includes(key))\n       ),\n   })\n )\n\\ No newline at end of file\n"
                },
                {
                    "date": 1681792449044,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,14 +1,14 @@\n /*\n  * @Author: Allen OYang\n  * @Email:  allenwill211@gmail.com\n  * @Date: 2023-04-18 11:28:09\n- * @LastEditTime: 2023-04-18 11:47:25\n+ * @LastEditTime: 2023-04-18 12:34:09\n  * @LastEditors: Allen OYang allenwill211@gmail.com\n  * @FilePath: /speak-gpt/src/stores/ChatStore.ts\n  */\n import { create } from \"zustand\";\n-import { persist } from \"zustand/middleware\";\n+import { persist, devtools } from \"zustand/middleware\";\n \n export const excludeKeys = [\n   'isRecording',\n   'textareaMessage'\n@@ -38,13 +38,14 @@\n }\n \n const store = () => ({ ...initialState } as ChatState);\n \n-export const useChatStore = create<ChatState>()(\n+export const useChatStore = create<ChatState>()(devtools(\n   persist(store, {\n     name: 'chat-store',\n     partialize: (state) =>\n       Object.fromEntries(\n         Object.entries(state).filter(([key]) => !excludeKeys.includes(key))\n       ),\n   })\n+)\n )\n\\ No newline at end of file\n"
                },
                {
                    "date": 1681798882175,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,9 +1,9 @@\n /*\n  * @Author: Allen OYang\n  * @Email:  allenwill211@gmail.com\n  * @Date: 2023-04-18 11:28:09\n- * @LastEditTime: 2023-04-18 12:34:09\n+ * @LastEditTime: 2023-04-18 14:21:22\n  * @LastEditors: Allen OYang allenwill211@gmail.com\n  * @FilePath: /speak-gpt/src/stores/ChatStore.ts\n  */\n import { create } from \"zustand\";\n@@ -38,14 +38,13 @@\n }\n \n const store = () => ({ ...initialState } as ChatState);\n \n-export const useChatStore = create<ChatState>()(devtools(\n+export const useChatStore = create<ChatState>()(\n   persist(store, {\n     name: 'chat-store',\n     partialize: (state) =>\n       Object.fromEntries(\n         Object.entries(state).filter(([key]) => !excludeKeys.includes(key))\n       ),\n   })\n )\n\\ No newline at end of file\n-)\n"
                },
                {
                    "date": 1681801891057,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,18 +1,16 @@\n /*\n  * @Author: Allen OYang\n  * @Email:  allenwill211@gmail.com\n  * @Date: 2023-04-18 11:28:09\n- * @LastEditTime: 2023-04-18 14:21:22\n+ * @LastEditTime: 2023-04-18 15:11:26\n  * @LastEditors: Allen OYang allenwill211@gmail.com\n  * @FilePath: /speak-gpt/src/stores/ChatStore.ts\n  */\n import { create } from \"zustand\";\n import { persist, devtools } from \"zustand/middleware\";\n \n export const excludeKeys = [\n-  'isRecording',\n-  'textareaMessage'\n ];\n \n export interface ChatState {\n   /**\n@@ -46,5 +44,5 @@\n       Object.fromEntries(\n         Object.entries(state).filter(([key]) => !excludeKeys.includes(key))\n       ),\n   })\n-)\n\\ No newline at end of file\n+)\n"
                },
                {
                    "date": 1681801899382,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -9,9 +9,9 @@\n import { create } from \"zustand\";\n import { persist, devtools } from \"zustand/middleware\";\n \n export const excludeKeys = [\n-];\n+''];\n \n export interface ChatState {\n   /**\n    * Chat Components Messages\n"
                },
                {
                    "date": 1681802615963,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,9 +1,9 @@\n /*\n  * @Author: Allen OYang\n  * @Email:  allenwill211@gmail.com\n  * @Date: 2023-04-18 11:28:09\n- * @LastEditTime: 2023-04-18 15:11:26\n+ * @LastEditTime: 2023-04-18 15:23:35\n  * @LastEditors: Allen OYang allenwill211@gmail.com\n  * @FilePath: /speak-gpt/src/stores/ChatStore.ts\n  */\n import { create } from \"zustand\";\n@@ -11,13 +11,20 @@\n \n export const excludeKeys = [\n ''];\n \n+interface Chat {\n+  id: string,\n+  message: string[],\n+  createdAt: Date,\n+}\n+\n export interface ChatState {\n   /**\n    * Chat Components Messages\n    */\n-  chats: string[],\n+  chats: Chat[],\n+  activeChatId: string,\n   /**\n    *  Textarea Components State\n    */\n   isRecording: boolean,\n@@ -27,8 +34,9 @@\n }\n \n export const initialState = {\n   chats: [],\n+  activeChatId:'',\n \n   isRecording: false,\n   textareaMessage: '',\n   selectData: [],\n"
                },
                {
                    "date": 1681802789469,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,9 +1,9 @@\n /*\n  * @Author: Allen OYang\n  * @Email:  allenwill211@gmail.com\n  * @Date: 2023-04-18 11:28:09\n- * @LastEditTime: 2023-04-18 15:23:35\n+ * @LastEditTime: 2023-04-18 15:26:29\n  * @LastEditors: Allen OYang allenwill211@gmail.com\n  * @FilePath: /speak-gpt/src/stores/ChatStore.ts\n  */\n import { create } from \"zustand\";\n"
                },
                {
                    "date": 1681804124473,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -9,14 +9,15 @@\n import { create } from \"zustand\";\n import { persist, devtools } from \"zustand/middleware\";\n \n export const excludeKeys = [\n-''];\n+  ''];\n \n interface Chat {\n   id: string,\n   message: string[],\n   createdAt: Date,\n+  title: string,\n }\n \n export interface ChatState {\n   /**\n@@ -34,9 +35,9 @@\n }\n \n export const initialState = {\n   chats: [],\n-  activeChatId:'',\n+  activeChatId: '',\n \n   isRecording: false,\n   textareaMessage: '',\n   selectData: [],\n"
                },
                {
                    "date": 1681812533714,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -11,9 +11,9 @@\n \n export const excludeKeys = [\n   ''];\n \n-interface Chat {\n+export interface Chat {\n   id: string,\n   message: string[],\n   createdAt: Date,\n   title: string,\n"
                },
                {
                    "date": 1681832894611,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,17 +1,18 @@\n /*\n  * @Author: Allen OYang\n  * @Email:  allenwill211@gmail.com\n  * @Date: 2023-04-18 11:28:09\n- * @LastEditTime: 2023-04-18 15:26:29\n+ * @LastEditTime: 2023-04-18 23:48:13\n  * @LastEditors: Allen OYang allenwill211@gmail.com\n  * @FilePath: /speak-gpt/src/stores/ChatStore.ts\n  */\n import { create } from \"zustand\";\n import { persist, devtools } from \"zustand/middleware\";\n \n export const excludeKeys = [\n-  ''];\n+  'textareaMessage', 'isRecording', 'selectValue', 'selectData'\n+];\n \n export interface Chat {\n   id: string,\n   message: string[],\n"
                },
                {
                    "date": 1681832913033,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -9,9 +9,10 @@\n import { create } from \"zustand\";\n import { persist, devtools } from \"zustand/middleware\";\n \n export const excludeKeys = [\n-  'textareaMessage', 'isRecording', 'selectValue', 'selectData'\n+  'textareaMessage',\n+  'isRecording',\n ];\n \n export interface Chat {\n   id: string,\n"
                },
                {
                    "date": 1681872642404,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -6,18 +6,25 @@\n  * @LastEditors: Allen OYang allenwill211@gmail.com\n  * @FilePath: /speak-gpt/src/stores/ChatStore.ts\n  */\n import { create } from \"zustand\";\n-import { persist, devtools } from \"zustand/middleware\";\n+import { persist } from \"zustand/middleware\";\n \n export const excludeKeys = [\n   'textareaMessage',\n   'isRecording',\n ];\n \n+export interface Message {\n+  message: string\n+  id: string\n+  createdAt: Date,\n+  role: 'user' | 'system' | 'assistant'\n+}\n+\n export interface Chat {\n   id: string,\n-  message: string[],\n+  message: Message[],\n   createdAt: Date,\n   title: string,\n }\n \n"
                },
                {
                    "date": 1681875320775,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,9 +1,9 @@\n /*\n  * @Author: Allen OYang\n  * @Email:  allenwill211@gmail.com\n  * @Date: 2023-04-18 11:28:09\n- * @LastEditTime: 2023-04-18 23:48:13\n+ * @LastEditTime: 2023-04-19 11:35:19\n  * @LastEditors: Allen OYang allenwill211@gmail.com\n  * @FilePath: /speak-gpt/src/stores/ChatStore.ts\n  */\n import { create } from \"zustand\";\n@@ -28,8 +28,9 @@\n   title: string,\n }\n \n export interface ChatState {\n+  openAIKey: string\n   /**\n    * Chat Components Messages\n    */\n   chats: Chat[],\n@@ -43,8 +44,10 @@\n   selectValue: string,\n }\n \n export const initialState = {\n+  openAIKey: process.env.NEXT_PUBLIC_OPEN_AI_KEY || '',\n+\n   chats: [],\n   activeChatId: '',\n \n   isRecording: false,\n"
                },
                {
                    "date": 1681890676153,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -29,8 +29,9 @@\n }\n \n export interface ChatState {\n   openAIKey: string\n+  openAIModels: string[]\n   /**\n    * Chat Components Messages\n    */\n   chats: Chat[],\n@@ -45,8 +46,9 @@\n }\n \n export const initialState = {\n   openAIKey: process.env.NEXT_PUBLIC_OPEN_AI_KEY || '',\n+  openAIModels: ['gpt-3.5-turbo-0301', 'gpt-3.5-turbo', 'gpt-4-32k-0314', 'gpt-4-32k', 'gpt-4-0314', 'gpt-4'],\n \n   chats: [],\n   activeChatId: '',\n \n"
                },
                {
                    "date": 1681891544304,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,9 +1,9 @@\n /*\n  * @Author: Allen OYang\n  * @Email:  allenwill211@gmail.com\n  * @Date: 2023-04-18 11:28:09\n- * @LastEditTime: 2023-04-19 11:35:19\n+ * @LastEditTime: 2023-04-19 16:05:42\n  * @LastEditors: Allen OYang allenwill211@gmail.com\n  * @FilePath: /speak-gpt/src/stores/ChatStore.ts\n  */\n import { create } from \"zustand\";\n@@ -28,10 +28,17 @@\n   title: string,\n }\n \n export interface ChatState {\n+  /**\n+   * open ai config\n+   */\n   openAIKey: string\n   openAIModels: string[]\n+  openAIHistory: number\n+  openAI_temperature: number\n+  openAI_max_tokens: number\n+  openAI_presence_penaltyn: number\n   /**\n    * Chat Components Messages\n    */\n   chats: Chat[],\n@@ -47,9 +54,14 @@\n \n export const initialState = {\n   openAIKey: process.env.NEXT_PUBLIC_OPEN_AI_KEY || '',\n   openAIModels: ['gpt-3.5-turbo-0301', 'gpt-3.5-turbo', 'gpt-4-32k-0314', 'gpt-4-32k', 'gpt-4-0314', 'gpt-4'],\n+  openAIHistory: 4,\n+  openAI_temperature: 4,\n+  openAI_max_tokens: 2000,\n+  openAI_presence_penaltyn: 2000,\n \n+\n   chats: [],\n   activeChatId: '',\n \n   isRecording: false,\n"
                },
                {
                    "date": 1681893221746,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -55,11 +55,11 @@\n export const initialState = {\n   openAIKey: process.env.NEXT_PUBLIC_OPEN_AI_KEY || '',\n   openAIModels: ['gpt-3.5-turbo-0301', 'gpt-3.5-turbo', 'gpt-4-32k-0314', 'gpt-4-32k', 'gpt-4-0314', 'gpt-4'],\n   openAIHistory: 4,\n-  openAI_temperature: 4,\n+  openAI_temperature: 2,\n   openAI_max_tokens: 2000,\n-  openAI_presence_penaltyn: 2000,\n+  openAI_presence_penaltyn: 1,\n \n \n   chats: [],\n   activeChatId: '',\n"
                },
                {
                    "date": 1681893983528,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -33,8 +33,9 @@\n    * open ai config\n    */\n   openAIKey: string\n   openAIModels: string[]\n+  openAITargetModels: string\n   openAIHistory: number\n   openAI_temperature: number\n   openAI_max_tokens: number\n   openAI_presence_penaltyn: number\n@@ -54,8 +55,9 @@\n \n export const initialState = {\n   openAIKey: process.env.NEXT_PUBLIC_OPEN_AI_KEY || '',\n   openAIModels: ['gpt-3.5-turbo-0301', 'gpt-3.5-turbo', 'gpt-4-32k-0314', 'gpt-4-32k', 'gpt-4-0314', 'gpt-4'],\n+  openAITargetModels: 'gpt-3.5-turbo-0301',\n   openAIHistory: 4,\n   openAI_temperature: 2,\n   openAI_max_tokens: 2000,\n   openAI_presence_penaltyn: 1,\n"
                },
                {
                    "date": 1681896949356,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -35,11 +35,11 @@\n   openAIKey: string\n   openAIModels: string[]\n   openAITargetModels: string\n   openAIHistory: number\n-  openAI_temperature: number\n-  openAI_max_tokens: number\n-  openAI_presence_penaltyn: number\n+  temperature: number\n+  max_tokens: number\n+  presence_penalty: number\n   /**\n    * Chat Components Messages\n    */\n   chats: Chat[],\n@@ -57,11 +57,11 @@\n   openAIKey: process.env.NEXT_PUBLIC_OPEN_AI_KEY || '',\n   openAIModels: ['gpt-3.5-turbo-0301', 'gpt-3.5-turbo', 'gpt-4-32k-0314', 'gpt-4-32k', 'gpt-4-0314', 'gpt-4'],\n   openAITargetModels: 'gpt-3.5-turbo-0301',\n   openAIHistory: 4,\n-  openAI_temperature: 2,\n-  openAI_max_tokens: 2000,\n-  openAI_presence_penaltyn: 1,\n+  temperature: 2,\n+  max_tokens: 2000,\n+  presence_penalty: 1,\n \n \n   chats: [],\n   activeChatId: '',\n"
                },
                {
                    "date": 1681897804981,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -14,9 +14,9 @@\n   'isRecording',\n ];\n \n export interface Message {\n-  message: string\n+  content: string\n   id: string\n   createdAt: Date,\n   role: 'user' | 'system' | 'assistant'\n }\n"
                },
                {
                    "date": 1681898699651,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -13,8 +13,36 @@\n   'textareaMessage',\n   'isRecording',\n ];\n \n+interface SettingsForm {\n+  // GPT\n+  model: string;\n+  temperature: number;\n+  top_p: number;\n+  n: number;\n+  stop: string;\n+  max_tokens: number;\n+  presence_penalty: number;\n+  frequency_penalty: number;\n+  logit_bias: string;\n+  auto_title: boolean;\n+}\n+\n+export const defaultSettings = {\n+  model: \"gpt-3.5-turbo\",\n+  temperature: 1,\n+  top_p: 1,\n+  n: 1,\n+  stop: \"\",\n+  max_tokens: 0,\n+  presence_penalty: 0,\n+  frequency_penalty: 0,\n+  logit_bias: \"\",\n+  auto_title: true,\n+};\n+\n+\n export interface Message {\n   content: string\n   id: string\n   createdAt: Date,\n@@ -27,19 +55,23 @@\n   createdAt: Date,\n   title: string,\n }\n \n+\n+\n export interface ChatState {\n   /**\n    * open ai config\n    */\n   openAIKey: string\n-  openAIModels: string[]\n-  openAITargetModels: string\n+  // openAIModels: string[]\n+  // openAITargetModels: string\n   openAIHistory: number\n-  temperature: number\n-  max_tokens: number\n-  presence_penalty: number\n+  // temperature: number\n+  // max_tokens: number\n+  // presence_penalty: number\n+  \n+  openAIConfig: SettingsForm;\n   /**\n    * Chat Components Messages\n    */\n   chats: Chat[],\n@@ -54,16 +86,18 @@\n }\n \n export const initialState = {\n   openAIKey: process.env.NEXT_PUBLIC_OPEN_AI_KEY || '',\n-  openAIModels: ['gpt-3.5-turbo-0301', 'gpt-3.5-turbo', 'gpt-4-32k-0314', 'gpt-4-32k', 'gpt-4-0314', 'gpt-4'],\n-  openAITargetModels: 'gpt-3.5-turbo-0301',\n+  // openAIModels: ['gpt-3.5-turbo-0301', 'gpt-3.5-turbo', 'gpt-4-32k-0314', 'gpt-4-32k', 'gpt-4-0314', 'gpt-4'],\n+  // openAITargetModels: 'gpt-3.5-turbo-0301',\n   openAIHistory: 4,\n-  temperature: 2,\n-  max_tokens: 2000,\n-  presence_penalty: 1,\n+  // temperature: 2,\n+  // max_tokens: 2000,\n+  // presence_penalty: 1,\n \n+  openAIConfig: defaultSettings,\n \n+\n   chats: [],\n   activeChatId: '',\n \n   isRecording: false,\n"
                },
                {
                    "date": 1681898754986,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -62,9 +62,9 @@\n   /**\n    * open ai config\n    */\n   openAIKey: string\n-  // openAIModels: string[]\n+  openAIModels: string[]\n   // openAITargetModels: string\n   openAIHistory: number\n   // temperature: number\n   // max_tokens: number\n@@ -86,9 +86,9 @@\n }\n \n export const initialState = {\n   openAIKey: process.env.NEXT_PUBLIC_OPEN_AI_KEY || '',\n-  // openAIModels: ['gpt-3.5-turbo-0301', 'gpt-3.5-turbo', 'gpt-4-32k-0314', 'gpt-4-32k', 'gpt-4-0314', 'gpt-4'],\n+  openAIModels: [ 'gpt-3.5-turbo', 'gpt-3.5-turbo-0301', 'gpt-4-32k-0314', 'gpt-4-32k', 'gpt-4-0314', 'gpt-4'],\n   // openAITargetModels: 'gpt-3.5-turbo-0301',\n   openAIHistory: 4,\n   // temperature: 2,\n   // max_tokens: 2000,\n"
                },
                {
                    "date": 1681920399750,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,9 +1,9 @@\n /*\n  * @Author: Allen OYang\n  * @Email:  allenwill211@gmail.com\n  * @Date: 2023-04-18 11:28:09\n- * @LastEditTime: 2023-04-19 16:05:42\n+ * @LastEditTime: 2023-04-20 00:06:39\n  * @LastEditors: Allen OYang allenwill211@gmail.com\n  * @FilePath: /speak-gpt/src/stores/ChatStore.ts\n  */\n import { create } from \"zustand\";\n@@ -33,9 +33,9 @@\n   temperature: 1,\n   top_p: 1,\n   n: 1,\n   stop: \"\",\n-  max_tokens: 0,\n+  max_tokens: 2000,\n   presence_penalty: 0,\n   frequency_penalty: 0,\n   logit_bias: \"\",\n   auto_title: true,\n"
                },
                {
                    "date": 1681920688784,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,9 +1,9 @@\n /*\n  * @Author: Allen OYang\n  * @Email:  allenwill211@gmail.com\n  * @Date: 2023-04-18 11:28:09\n- * @LastEditTime: 2023-04-20 00:06:39\n+ * @LastEditTime: 2023-04-20 00:11:28\n  * @LastEditors: Allen OYang allenwill211@gmail.com\n  * @FilePath: /speak-gpt/src/stores/ChatStore.ts\n  */\n import { create } from \"zustand\";\n@@ -55,22 +55,15 @@\n   createdAt: Date,\n   title: string,\n }\n \n-\n-\n export interface ChatState {\n   /**\n    * open ai config\n    */\n   openAIKey: string\n   openAIModels: string[]\n-  // openAITargetModels: string\n   openAIHistory: number\n-  // temperature: number\n-  // max_tokens: number\n-  // presence_penalty: number\n-  \n   openAIConfig: SettingsForm;\n   /**\n    * Chat Components Messages\n    */\n@@ -87,17 +80,11 @@\n \n export const initialState = {\n   openAIKey: process.env.NEXT_PUBLIC_OPEN_AI_KEY || '',\n   openAIModels: [ 'gpt-3.5-turbo', 'gpt-3.5-turbo-0301', 'gpt-4-32k-0314', 'gpt-4-32k', 'gpt-4-0314', 'gpt-4'],\n-  // openAITargetModels: 'gpt-3.5-turbo-0301',\n   openAIHistory: 4,\n-  // temperature: 2,\n-  // max_tokens: 2000,\n-  // presence_penalty: 1,\n-\n   openAIConfig: defaultSettings,\n \n-\n   chats: [],\n   activeChatId: '',\n \n   isRecording: false,\n"
                },
                {
                    "date": 1681961753448,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,9 +1,9 @@\n /*\n  * @Author: Allen OYang\n  * @Email:  allenwill211@gmail.com\n  * @Date: 2023-04-18 11:28:09\n- * @LastEditTime: 2023-04-20 00:11:28\n+ * @LastEditTime: 2023-04-20 11:35:53\n  * @LastEditors: Allen OYang allenwill211@gmail.com\n  * @FilePath: /speak-gpt/src/stores/ChatStore.ts\n  */\n import { create } from \"zustand\";\n@@ -67,9 +67,9 @@\n   /**\n    * Chat Components Messages\n    */\n   chats: Chat[],\n-  activeChatId: string,\n+  activeChatId: string | undefined,\n   /**\n    *  Textarea Components State\n    */\n   isRecording: boolean,\n@@ -84,9 +84,9 @@\n   openAIHistory: 4,\n   openAIConfig: defaultSettings,\n \n   chats: [],\n-  activeChatId: '',\n+  activeChatId: undefined,\n \n   isRecording: false,\n   textareaMessage: '',\n   selectData: [],\n"
                },
                {
                    "date": 1681973674653,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,60 +1,56 @@\n /*\n  * @Author: Allen OYang\n  * @Email:  allenwill211@gmail.com\n  * @Date: 2023-04-18 11:28:09\n- * @LastEditTime: 2023-04-20 11:35:53\n+ * @LastEditTime: 2023-04-20 14:54:31\n  * @LastEditors: Allen OYang allenwill211@gmail.com\n  * @FilePath: /speak-gpt/src/stores/ChatStore.ts\n  */\n-import { create } from \"zustand\";\n-import { persist } from \"zustand/middleware\";\n+import { create } from 'zustand'\n+import { persist } from 'zustand/middleware'\n \n-export const excludeKeys = [\n-  'textareaMessage',\n-  'isRecording',\n-];\n+export const excludeKeys = ['textareaMessage', 'isRecording']\n \n interface SettingsForm {\n   // GPT\n-  model: string;\n-  temperature: number;\n-  top_p: number;\n-  n: number;\n-  stop: string;\n-  max_tokens: number;\n-  presence_penalty: number;\n-  frequency_penalty: number;\n-  logit_bias: string;\n-  auto_title: boolean;\n+  model: string\n+  temperature: number\n+  top_p: number\n+  n: number\n+  stop: string\n+  max_tokens: number\n+  presence_penalty: number\n+  frequency_penalty: number\n+  logit_bias: string\n+  auto_title: boolean\n }\n \n export const defaultSettings = {\n-  model: \"gpt-3.5-turbo\",\n+  model: 'gpt-3.5-turbo',\n   temperature: 1,\n   top_p: 1,\n   n: 1,\n-  stop: \"\",\n+  stop: '',\n   max_tokens: 2000,\n   presence_penalty: 0,\n   frequency_penalty: 0,\n-  logit_bias: \"\",\n+  logit_bias: '',\n   auto_title: true,\n-};\n+}\n \n-\n export interface Message {\n   content: string\n   id: string\n-  createdAt: Date,\n+  createdAt: Date\n   role: 'user' | 'system' | 'assistant'\n }\n \n export interface Chat {\n-  id: string,\n-  message: Message[],\n-  createdAt: Date,\n-  title: string,\n+  id: string\n+  message: Message[]\n+  createdAt: Date\n+  title: string\n }\n \n export interface ChatState {\n   /**\n@@ -62,26 +58,33 @@\n    */\n   openAIKey: string\n   openAIModels: string[]\n   openAIHistory: number\n-  openAIConfig: SettingsForm;\n+  openAIConfig: SettingsForm\n   /**\n    * Chat Components Messages\n    */\n-  chats: Chat[],\n-  activeChatId: string | undefined,\n+  chats: Chat[]\n+  activeChatId: string | undefined\n   /**\n    *  Textarea Components State\n    */\n-  isRecording: boolean,\n-  textareaMessage: string,\n-  selectData: { value: string, label: string }[],\n-  selectValue: string,\n+  isRecording: boolean\n+  textareaMessage: string\n+  selectData: { value: string; label: string }[]\n+  selectValue: string\n }\n \n export const initialState = {\n   openAIKey: process.env.NEXT_PUBLIC_OPEN_AI_KEY || '',\n-  openAIModels: [ 'gpt-3.5-turbo', 'gpt-3.5-turbo-0301', 'gpt-4-32k-0314', 'gpt-4-32k', 'gpt-4-0314', 'gpt-4'],\n+  openAIModels: [\n+    'gpt-3.5-turbo',\n+    'gpt-3.5-turbo-0301',\n+    'gpt-4-32k-0314',\n+    'gpt-4-32k',\n+    'gpt-4-0314',\n+    'gpt-4',\n+  ],\n   openAIHistory: 4,\n   openAIConfig: defaultSettings,\n \n   chats: [],\n@@ -92,15 +95,15 @@\n   selectData: [],\n   selectValue: '',\n }\n \n-const store = () => ({ ...initialState } as ChatState);\n+const store = () => ({ ...initialState } as ChatState)\n \n export const useChatStore = create<ChatState>()(\n   persist(store, {\n     name: 'chat-store',\n     partialize: (state) =>\n       Object.fromEntries(\n-        Object.entries(state).filter(([key]) => !excludeKeys.includes(key))\n+        Object.entries(state).filter(([key]) => !excludeKeys.includes(key)),\n       ),\n-  })\n+  }),\n )\n"
                },
                {
                    "date": 1681979388027,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -7,8 +7,9 @@\n  * @FilePath: /speak-gpt/src/stores/ChatStore.ts\n  */\n import { create } from 'zustand'\n import { persist } from 'zustand/middleware'\n+import produce from 'immer'\n \n export const excludeKeys = ['textareaMessage', 'isRecording']\n \n interface SettingsForm {\n@@ -41,16 +42,17 @@\n export interface Message {\n   content: string\n   id: string\n   createdAt: Date\n-  role: 'user' | 'system' | 'assistant'\n+  role: 'user' | 'system' | 'assistant' | 'bot'\n }\n \n export interface Chat {\n-  id: string\n-  message: Message[]\n-  createdAt: Date\n-  title: string\n+  [id: string]: {\n+    message: Message[]\n+    createdAt: Date\n+    title: string\n+  }\n }\n \n export interface ChatState {\n   /**\n@@ -62,9 +64,9 @@\n   openAIConfig: SettingsForm\n   /**\n    * Chat Components Messages\n    */\n-  chats: Chat[]\n+  chats: Chat\n   activeChatId: string | undefined\n   /**\n    *  Textarea Components State\n    */\n"
                },
                {
                    "date": 1681980030044,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -88,9 +88,9 @@\n   ],\n   openAIHistory: 4,\n   openAIConfig: defaultSettings,\n \n-  chats: [],\n+  chats: {},\n   activeChatId: undefined,\n \n   isRecording: false,\n   textareaMessage: '',\n"
                },
                {
                    "date": 1681984423627,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -42,9 +42,9 @@\n export interface Message {\n   content: string\n   id: string\n   createdAt: Date\n-  role: 'user' | 'system' | 'assistant' | 'bot'\n+  role: 'user' | 'system' | 'assistant'\n }\n \n export interface Chat {\n   [id: string]: {\n"
                }
            ],
            "date": 1681789547143,
            "name": "Commit-0",
            "content": "/*\n * @Author: Allen OYang\n * @Email:  allenwill211@gmail.com\n * @Date: 2023-04-18 11:28:09\n * @LastEditTime: 2023-04-18 11:45:46\n * @LastEditors: Allen OYang allenwill211@gmail.com\n * @FilePath: /speak-gpt/src/stores/ChatStore.ts\n */\nimport { create } from \"zustand\";\nimport { persist } from \"zustand/middleware\";\n\nexport interface ChatState {\n  /**\n   * Chat Components Messages\n   */\n  chats: string[],\n  /**\n   *  Textarea Components State\n   */\n  isRecording: boolean,\n  textareaMessage: string,\n  selectData: { value: string, label: string }[],\n  selectValue: string,\n}\n\nexport const initialState = {\n  chats: [],\n\n  isRecording: false,\n  textareaMessage: '',\n  selectData: [],\n  selectValue: '',\n}\n\nconst store = () => ({ ...initialState } as ChatState);\n\nexport const useChatStore = create<ChatState>()(\n  persist(store, {\n    name: 'chat-store',\n    partialize: (state) =>\n      Object.fromEntries(\n        Object.entries(state).filter(([key]) => !['foo'].includes(key))\n      ),\n  })\n)"
        }
    ]
}