{
    "sourceFile": "src/stores/ChatStore.ts",
    "activeCommit": 0,
    "commits": [
        {
            "activePatchIndex": 17,
            "patches": [
                {
                    "date": 1681789547143,
                    "content": "Index: \n===================================================================\n--- \n+++ \n"
                },
                {
                    "date": 1681789645356,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,15 +1,20 @@\n /*\n  * @Author: Allen OYang\n  * @Email:  allenwill211@gmail.com\n  * @Date: 2023-04-18 11:28:09\n- * @LastEditTime: 2023-04-18 11:45:46\n+ * @LastEditTime: 2023-04-18 11:47:25\n  * @LastEditors: Allen OYang allenwill211@gmail.com\n  * @FilePath: /speak-gpt/src/stores/ChatStore.ts\n  */\n import { create } from \"zustand\";\n import { persist } from \"zustand/middleware\";\n \n+export const excludeKeys = [\n+  'isRecording',\n+  'textareaMessage'\n+];\n+\n export interface ChatState {\n   /**\n    * Chat Components Messages\n    */\n@@ -38,8 +43,8 @@\n   persist(store, {\n     name: 'chat-store',\n     partialize: (state) =>\n       Object.fromEntries(\n-        Object.entries(state).filter(([key]) => !['foo'].includes(key))\n+        Object.entries(state).filter(([key]) => !excludeKeys.includes(key))\n       ),\n   })\n )\n\\ No newline at end of file\n"
                },
                {
                    "date": 1681792449044,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,14 +1,14 @@\n /*\n  * @Author: Allen OYang\n  * @Email:  allenwill211@gmail.com\n  * @Date: 2023-04-18 11:28:09\n- * @LastEditTime: 2023-04-18 11:47:25\n+ * @LastEditTime: 2023-04-18 12:34:09\n  * @LastEditors: Allen OYang allenwill211@gmail.com\n  * @FilePath: /speak-gpt/src/stores/ChatStore.ts\n  */\n import { create } from \"zustand\";\n-import { persist } from \"zustand/middleware\";\n+import { persist, devtools } from \"zustand/middleware\";\n \n export const excludeKeys = [\n   'isRecording',\n   'textareaMessage'\n@@ -38,13 +38,14 @@\n }\n \n const store = () => ({ ...initialState } as ChatState);\n \n-export const useChatStore = create<ChatState>()(\n+export const useChatStore = create<ChatState>()(devtools(\n   persist(store, {\n     name: 'chat-store',\n     partialize: (state) =>\n       Object.fromEntries(\n         Object.entries(state).filter(([key]) => !excludeKeys.includes(key))\n       ),\n   })\n+)\n )\n\\ No newline at end of file\n"
                },
                {
                    "date": 1681798882175,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,9 +1,9 @@\n /*\n  * @Author: Allen OYang\n  * @Email:  allenwill211@gmail.com\n  * @Date: 2023-04-18 11:28:09\n- * @LastEditTime: 2023-04-18 12:34:09\n+ * @LastEditTime: 2023-04-18 14:21:22\n  * @LastEditors: Allen OYang allenwill211@gmail.com\n  * @FilePath: /speak-gpt/src/stores/ChatStore.ts\n  */\n import { create } from \"zustand\";\n@@ -38,14 +38,13 @@\n }\n \n const store = () => ({ ...initialState } as ChatState);\n \n-export const useChatStore = create<ChatState>()(devtools(\n+export const useChatStore = create<ChatState>()(\n   persist(store, {\n     name: 'chat-store',\n     partialize: (state) =>\n       Object.fromEntries(\n         Object.entries(state).filter(([key]) => !excludeKeys.includes(key))\n       ),\n   })\n )\n\\ No newline at end of file\n-)\n"
                },
                {
                    "date": 1681801891057,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,18 +1,16 @@\n /*\n  * @Author: Allen OYang\n  * @Email:  allenwill211@gmail.com\n  * @Date: 2023-04-18 11:28:09\n- * @LastEditTime: 2023-04-18 14:21:22\n+ * @LastEditTime: 2023-04-18 15:11:26\n  * @LastEditors: Allen OYang allenwill211@gmail.com\n  * @FilePath: /speak-gpt/src/stores/ChatStore.ts\n  */\n import { create } from \"zustand\";\n import { persist, devtools } from \"zustand/middleware\";\n \n export const excludeKeys = [\n-  'isRecording',\n-  'textareaMessage'\n ];\n \n export interface ChatState {\n   /**\n@@ -46,5 +44,5 @@\n       Object.fromEntries(\n         Object.entries(state).filter(([key]) => !excludeKeys.includes(key))\n       ),\n   })\n-)\n\\ No newline at end of file\n+)\n"
                },
                {
                    "date": 1681801899382,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -9,9 +9,9 @@\n import { create } from \"zustand\";\n import { persist, devtools } from \"zustand/middleware\";\n \n export const excludeKeys = [\n-];\n+''];\n \n export interface ChatState {\n   /**\n    * Chat Components Messages\n"
                },
                {
                    "date": 1681802615963,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,9 +1,9 @@\n /*\n  * @Author: Allen OYang\n  * @Email:  allenwill211@gmail.com\n  * @Date: 2023-04-18 11:28:09\n- * @LastEditTime: 2023-04-18 15:11:26\n+ * @LastEditTime: 2023-04-18 15:23:35\n  * @LastEditors: Allen OYang allenwill211@gmail.com\n  * @FilePath: /speak-gpt/src/stores/ChatStore.ts\n  */\n import { create } from \"zustand\";\n@@ -11,13 +11,20 @@\n \n export const excludeKeys = [\n ''];\n \n+interface Chat {\n+  id: string,\n+  message: string[],\n+  createdAt: Date,\n+}\n+\n export interface ChatState {\n   /**\n    * Chat Components Messages\n    */\n-  chats: string[],\n+  chats: Chat[],\n+  activeChatId: string,\n   /**\n    *  Textarea Components State\n    */\n   isRecording: boolean,\n@@ -27,8 +34,9 @@\n }\n \n export const initialState = {\n   chats: [],\n+  activeChatId:'',\n \n   isRecording: false,\n   textareaMessage: '',\n   selectData: [],\n"
                },
                {
                    "date": 1681802789469,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,9 +1,9 @@\n /*\n  * @Author: Allen OYang\n  * @Email:  allenwill211@gmail.com\n  * @Date: 2023-04-18 11:28:09\n- * @LastEditTime: 2023-04-18 15:23:35\n+ * @LastEditTime: 2023-04-18 15:26:29\n  * @LastEditors: Allen OYang allenwill211@gmail.com\n  * @FilePath: /speak-gpt/src/stores/ChatStore.ts\n  */\n import { create } from \"zustand\";\n"
                },
                {
                    "date": 1681804124473,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -9,14 +9,15 @@\n import { create } from \"zustand\";\n import { persist, devtools } from \"zustand/middleware\";\n \n export const excludeKeys = [\n-''];\n+  ''];\n \n interface Chat {\n   id: string,\n   message: string[],\n   createdAt: Date,\n+  title: string,\n }\n \n export interface ChatState {\n   /**\n@@ -34,9 +35,9 @@\n }\n \n export const initialState = {\n   chats: [],\n-  activeChatId:'',\n+  activeChatId: '',\n \n   isRecording: false,\n   textareaMessage: '',\n   selectData: [],\n"
                },
                {
                    "date": 1681812533714,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -11,9 +11,9 @@\n \n export const excludeKeys = [\n   ''];\n \n-interface Chat {\n+export interface Chat {\n   id: string,\n   message: string[],\n   createdAt: Date,\n   title: string,\n"
                },
                {
                    "date": 1681832894611,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,17 +1,18 @@\n /*\n  * @Author: Allen OYang\n  * @Email:  allenwill211@gmail.com\n  * @Date: 2023-04-18 11:28:09\n- * @LastEditTime: 2023-04-18 15:26:29\n+ * @LastEditTime: 2023-04-18 23:48:13\n  * @LastEditors: Allen OYang allenwill211@gmail.com\n  * @FilePath: /speak-gpt/src/stores/ChatStore.ts\n  */\n import { create } from \"zustand\";\n import { persist, devtools } from \"zustand/middleware\";\n \n export const excludeKeys = [\n-  ''];\n+  'textareaMessage', 'isRecording', 'selectValue', 'selectData'\n+];\n \n export interface Chat {\n   id: string,\n   message: string[],\n"
                },
                {
                    "date": 1681832913033,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -9,9 +9,10 @@\n import { create } from \"zustand\";\n import { persist, devtools } from \"zustand/middleware\";\n \n export const excludeKeys = [\n-  'textareaMessage', 'isRecording', 'selectValue', 'selectData'\n+  'textareaMessage',\n+  'isRecording',\n ];\n \n export interface Chat {\n   id: string,\n"
                },
                {
                    "date": 1681872642404,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -6,18 +6,25 @@\n  * @LastEditors: Allen OYang allenwill211@gmail.com\n  * @FilePath: /speak-gpt/src/stores/ChatStore.ts\n  */\n import { create } from \"zustand\";\n-import { persist, devtools } from \"zustand/middleware\";\n+import { persist } from \"zustand/middleware\";\n \n export const excludeKeys = [\n   'textareaMessage',\n   'isRecording',\n ];\n \n+export interface Message {\n+  message: string\n+  id: string\n+  createdAt: Date,\n+  role: 'user' | 'system' | 'assistant'\n+}\n+\n export interface Chat {\n   id: string,\n-  message: string[],\n+  message: Message[],\n   createdAt: Date,\n   title: string,\n }\n \n"
                },
                {
                    "date": 1681875320775,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,9 +1,9 @@\n /*\n  * @Author: Allen OYang\n  * @Email:  allenwill211@gmail.com\n  * @Date: 2023-04-18 11:28:09\n- * @LastEditTime: 2023-04-18 23:48:13\n+ * @LastEditTime: 2023-04-19 11:35:19\n  * @LastEditors: Allen OYang allenwill211@gmail.com\n  * @FilePath: /speak-gpt/src/stores/ChatStore.ts\n  */\n import { create } from \"zustand\";\n@@ -28,8 +28,9 @@\n   title: string,\n }\n \n export interface ChatState {\n+  openAIKey: string\n   /**\n    * Chat Components Messages\n    */\n   chats: Chat[],\n@@ -43,8 +44,10 @@\n   selectValue: string,\n }\n \n export const initialState = {\n+  openAIKey: process.env.NEXT_PUBLIC_OPEN_AI_KEY || '',\n+\n   chats: [],\n   activeChatId: '',\n \n   isRecording: false,\n"
                },
                {
                    "date": 1681890676153,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -29,8 +29,9 @@\n }\n \n export interface ChatState {\n   openAIKey: string\n+  openAIModels: string[]\n   /**\n    * Chat Components Messages\n    */\n   chats: Chat[],\n@@ -45,8 +46,9 @@\n }\n \n export const initialState = {\n   openAIKey: process.env.NEXT_PUBLIC_OPEN_AI_KEY || '',\n+  openAIModels: ['gpt-3.5-turbo-0301', 'gpt-3.5-turbo', 'gpt-4-32k-0314', 'gpt-4-32k', 'gpt-4-0314', 'gpt-4'],\n \n   chats: [],\n   activeChatId: '',\n \n"
                },
                {
                    "date": 1681891544304,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,9 +1,9 @@\n /*\n  * @Author: Allen OYang\n  * @Email:  allenwill211@gmail.com\n  * @Date: 2023-04-18 11:28:09\n- * @LastEditTime: 2023-04-19 11:35:19\n+ * @LastEditTime: 2023-04-19 16:05:42\n  * @LastEditors: Allen OYang allenwill211@gmail.com\n  * @FilePath: /speak-gpt/src/stores/ChatStore.ts\n  */\n import { create } from \"zustand\";\n@@ -28,10 +28,17 @@\n   title: string,\n }\n \n export interface ChatState {\n+  /**\n+   * open ai config\n+   */\n   openAIKey: string\n   openAIModels: string[]\n+  openAIHistory: number\n+  openAI_temperature: number\n+  openAI_max_tokens: number\n+  openAI_presence_penaltyn: number\n   /**\n    * Chat Components Messages\n    */\n   chats: Chat[],\n@@ -47,9 +54,14 @@\n \n export const initialState = {\n   openAIKey: process.env.NEXT_PUBLIC_OPEN_AI_KEY || '',\n   openAIModels: ['gpt-3.5-turbo-0301', 'gpt-3.5-turbo', 'gpt-4-32k-0314', 'gpt-4-32k', 'gpt-4-0314', 'gpt-4'],\n+  openAIHistory: 4,\n+  openAI_temperature: 4,\n+  openAI_max_tokens: 2000,\n+  openAI_presence_penaltyn: 2000,\n \n+\n   chats: [],\n   activeChatId: '',\n \n   isRecording: false,\n"
                },
                {
                    "date": 1681893221746,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -55,11 +55,11 @@\n export const initialState = {\n   openAIKey: process.env.NEXT_PUBLIC_OPEN_AI_KEY || '',\n   openAIModels: ['gpt-3.5-turbo-0301', 'gpt-3.5-turbo', 'gpt-4-32k-0314', 'gpt-4-32k', 'gpt-4-0314', 'gpt-4'],\n   openAIHistory: 4,\n-  openAI_temperature: 4,\n+  openAI_temperature: 2,\n   openAI_max_tokens: 2000,\n-  openAI_presence_penaltyn: 2000,\n+  openAI_presence_penaltyn: 1,\n \n \n   chats: [],\n   activeChatId: '',\n"
                },
                {
                    "date": 1681893983528,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -33,8 +33,9 @@\n    * open ai config\n    */\n   openAIKey: string\n   openAIModels: string[]\n+  openAITargetModels: string\n   openAIHistory: number\n   openAI_temperature: number\n   openAI_max_tokens: number\n   openAI_presence_penaltyn: number\n@@ -54,8 +55,9 @@\n \n export const initialState = {\n   openAIKey: process.env.NEXT_PUBLIC_OPEN_AI_KEY || '',\n   openAIModels: ['gpt-3.5-turbo-0301', 'gpt-3.5-turbo', 'gpt-4-32k-0314', 'gpt-4-32k', 'gpt-4-0314', 'gpt-4'],\n+  openAITargetModels: 'gpt-3.5-turbo-0301',\n   openAIHistory: 4,\n   openAI_temperature: 2,\n   openAI_max_tokens: 2000,\n   openAI_presence_penaltyn: 1,\n"
                }
            ],
            "date": 1681789547143,
            "name": "Commit-0",
            "content": "/*\n * @Author: Allen OYang\n * @Email:  allenwill211@gmail.com\n * @Date: 2023-04-18 11:28:09\n * @LastEditTime: 2023-04-18 11:45:46\n * @LastEditors: Allen OYang allenwill211@gmail.com\n * @FilePath: /speak-gpt/src/stores/ChatStore.ts\n */\nimport { create } from \"zustand\";\nimport { persist } from \"zustand/middleware\";\n\nexport interface ChatState {\n  /**\n   * Chat Components Messages\n   */\n  chats: string[],\n  /**\n   *  Textarea Components State\n   */\n  isRecording: boolean,\n  textareaMessage: string,\n  selectData: { value: string, label: string }[],\n  selectValue: string,\n}\n\nexport const initialState = {\n  chats: [],\n\n  isRecording: false,\n  textareaMessage: '',\n  selectData: [],\n  selectValue: '',\n}\n\nconst store = () => ({ ...initialState } as ChatState);\n\nexport const useChatStore = create<ChatState>()(\n  persist(store, {\n    name: 'chat-store',\n    partialize: (state) =>\n      Object.fromEntries(\n        Object.entries(state).filter(([key]) => !['foo'].includes(key))\n      ),\n  })\n)"
        }
    ]
}