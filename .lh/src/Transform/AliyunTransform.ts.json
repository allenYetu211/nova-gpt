{
    "sourceFile": "src/Transform/AliyunTransform.ts",
    "activeCommit": 0,
    "commits": [
        {
            "activePatchIndex": 20,
            "patches": [
                {
                    "date": 1681633370440,
                    "content": "Index: \n===================================================================\n--- \n+++ \n"
                },
                {
                    "date": 1681634442563,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,19 +1,32 @@\n /*\n  * @Author: Allen OYang\n  * @Email:  allenwill211@gmail.com\n  * @Date: 2023-04-16 12:47:43\n- * @LastEditTime: 2023-04-16 12:56:48\n+ * @LastEditTime: 2023-04-16 16:40:41\n  * @LastEditors: Allen OYang allenwill211@gmail.com\n- * @FilePath: /speak-gpt/src/core/AliyunTransform.ts\n+ * @FilePath: /speak-gpt/src/Transform/AliyunTransform.ts\n  */\n \n import { WSRequest } from '@/utils/WsRequest';\n \n const token = `7bce9de7bf1242de9e060caa6bdcd72c`\n \n export class AliyunTransformAudio {\n   ws: WSRequest | null = null;\n+  on: any;\n+  emit: any;\n+  off: any;\n+  once: any;\n+\n   constructor () { \n     this.ws = new WSRequest(`wss://nls-gateway.cn-shanghai.aliyuncs.com/ws/v1?token=${token}`);\n+    this.proxy()\n   }\n+\n+  proxy() {\n+    this.on = this.ws?.event.on\n+    this.emit = this.ws?.event.emit\n+    this.off = this.ws?.event.off\n+    this.once = this.ws?.event.once\n+  }\n }\n\\ No newline at end of file\n"
                },
                {
                    "date": 1681634781121,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -7,26 +7,19 @@\n  * @FilePath: /speak-gpt/src/Transform/AliyunTransform.ts\n  */\n \n import { WSRequest } from '@/utils/WsRequest';\n+import type { EventEmitter } from 'eventemitter3'\n \n const token = `7bce9de7bf1242de9e060caa6bdcd72c`\n \n export class AliyunTransformAudio {\n-  ws: WSRequest | null = null;\n-  on: any;\n-  emit: any;\n-  off: any;\n-  once: any;\n+  public ws: WSRequest | null = null;\n+  public event: EventEmitter | null = null;\n \n-  constructor () { \n+\n+  constructor () {\n     this.ws = new WSRequest(`wss://nls-gateway.cn-shanghai.aliyuncs.com/ws/v1?token=${token}`);\n-    this.proxy()\n+    this.event = this.ws?.event\n   }\n \n-  proxy() {\n-    this.on = this.ws?.event.on\n-    this.emit = this.ws?.event.emit\n-    this.off = this.ws?.event.off\n-    this.once = this.ws?.event.once\n-  }\n }\n\\ No newline at end of file\n"
                },
                {
                    "date": 1681635016763,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -18,8 +18,9 @@\n \n \n   constructor () {\n     this.ws = new WSRequest(`wss://nls-gateway.cn-shanghai.aliyuncs.com/ws/v1?token=${token}`);\n-    this.event = this.ws?.event\n+    this.ws.connect();\n+    this.event = this.ws.event;\n   }\n \n }\n\\ No newline at end of file\n"
                },
                {
                    "date": 1681642162424,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -7,20 +7,56 @@\n  * @FilePath: /speak-gpt/src/Transform/AliyunTransform.ts\n  */\n \n import { WSRequest } from '@/utils/WsRequest';\n+import { randomUUID } from 'crypto';\n import type { EventEmitter } from 'eventemitter3'\n \n const token = `7bce9de7bf1242de9e060caa6bdcd72c`\n+type Header = {\n+  message_id: string\n+  task_id: string,\n+  namespace: string,\n+  name: string,\n+  appkey: string\n+}\n \n export class AliyunTransformAudio {\n   public ws: WSRequest | null = null;\n   public event: EventEmitter | null = null;\n+  private header: Header = {\n+    appkey: 'GBS08YSKIqJ9qoEo',\n+    message_id: '',\n+    namespace: 'SpeechTranscriber',\n+    name: 'StartTranscription',\n+    task_id: ''\n+  }\n \n \n   constructor () {\n     this.ws = new WSRequest(`wss://nls-gateway.cn-shanghai.aliyuncs.com/ws/v1?token=${token}`);\n     this.ws.connect();\n     this.event = this.ws.event;\n+\n+    this.header['task_id'] = randomUUID();\n+    this.header['message_id'] = randomUUID();\n   }\n \n+  send(data: any) {\n+    this.ws?.send(this.handleSendMessage(data))\n+  }\n+\n+  handleSendMessage(message: DataView) {\n+    console.log('header', this.header)\n+    return {\n+      header: this.header,\n+      \"payload\": {\n+        \"format\": message,\n+        \"sample_rate\": 16000,\n+        \"enable_intermediate_result\": true,\n+        \"enable_punctuation_prediction\": true,\n+        \"enable_inverse_text_normalization\": true\n+      }\n+    }\n+  }\n+\n }\n\\ No newline at end of file\n"
                },
                {
                    "date": 1681642287751,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,15 +1,15 @@\n /*\n  * @Author: Allen OYang\n  * @Email:  allenwill211@gmail.com\n  * @Date: 2023-04-16 12:47:43\n- * @LastEditTime: 2023-04-16 16:40:41\n+ * @LastEditTime: 2023-04-16 18:51:27\n  * @LastEditors: Allen OYang allenwill211@gmail.com\n  * @FilePath: /speak-gpt/src/Transform/AliyunTransform.ts\n  */\n \n import { WSRequest } from '@/utils/WsRequest';\n-import { randomUUID } from 'crypto';\n+import { v4 as uuidv4 } from 'uuid';\n import type { EventEmitter } from 'eventemitter3'\n \n const token = `7bce9de7bf1242de9e060caa6bdcd72c`\n type Header = {\n@@ -36,10 +36,10 @@\n     this.ws = new WSRequest(`wss://nls-gateway.cn-shanghai.aliyuncs.com/ws/v1?token=${token}`);\n     this.ws.connect();\n     this.event = this.ws.event;\n \n-    this.header['task_id'] = randomUUID();\n-    this.header['message_id'] = randomUUID();\n+    this.header['task_id'] = uuidv4();\n+    this.header['message_id'] = uuidv4();\n   }\n \n   send(data: any) {\n     this.ws?.send(this.handleSendMessage(data))\n"
                },
                {
                    "date": 1681642395223,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,9 +1,9 @@\n /*\n  * @Author: Allen OYang\n  * @Email:  allenwill211@gmail.com\n  * @Date: 2023-04-16 12:47:43\n- * @LastEditTime: 2023-04-16 18:51:27\n+ * @LastEditTime: 2023-04-16 18:53:14\n  * @LastEditors: Allen OYang allenwill211@gmail.com\n  * @FilePath: /speak-gpt/src/Transform/AliyunTransform.ts\n  */\n \n@@ -46,17 +46,17 @@\n   }\n \n   handleSendMessage(message: DataView) {\n     console.log('header', this.header)\n-    return {\n+    return JSON.stringify({\n       header: this.header,\n       \"payload\": {\n         \"format\": message,\n         \"sample_rate\": 16000,\n         \"enable_intermediate_result\": true,\n         \"enable_punctuation_prediction\": true,\n         \"enable_inverse_text_normalization\": true\n       }\n-    }\n+    })\n   }\n \n }\n\\ No newline at end of file\n"
                },
                {
                    "date": 1681642777232,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,15 +1,15 @@\n /*\n  * @Author: Allen OYang\n  * @Email:  allenwill211@gmail.com\n  * @Date: 2023-04-16 12:47:43\n- * @LastEditTime: 2023-04-16 18:53:14\n+ * @LastEditTime: 2023-04-16 18:59:37\n  * @LastEditors: Allen OYang allenwill211@gmail.com\n  * @FilePath: /speak-gpt/src/Transform/AliyunTransform.ts\n  */\n \n import { WSRequest } from '@/utils/WsRequest';\n-import { v4 as uuidv4 } from 'uuid';\n+import uuid from 'uuid';\n import type { EventEmitter } from 'eventemitter3'\n \n const token = `7bce9de7bf1242de9e060caa6bdcd72c`\n type Header = {\n@@ -36,10 +36,10 @@\n     this.ws = new WSRequest(`wss://nls-gateway.cn-shanghai.aliyuncs.com/ws/v1?token=${token}`);\n     this.ws.connect();\n     this.event = this.ws.event;\n \n-    this.header['task_id'] = uuidv4();\n-    this.header['message_id'] = uuidv4();\n+    this.header['task_id'] = uuid.v4()\n+    this.header['message_id'] = uuid.v4()\n   }\n \n   send(data: any) {\n     this.ws?.send(this.handleSendMessage(data))\n"
                },
                {
                    "date": 1681642876861,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,9 +1,9 @@\n /*\n  * @Author: Allen OYang\n  * @Email:  allenwill211@gmail.com\n  * @Date: 2023-04-16 12:47:43\n- * @LastEditTime: 2023-04-16 18:59:37\n+ * @LastEditTime: 2023-04-16 19:01:16\n  * @LastEditors: Allen OYang allenwill211@gmail.com\n  * @FilePath: /speak-gpt/src/Transform/AliyunTransform.ts\n  */\n \n@@ -36,10 +36,10 @@\n     this.ws = new WSRequest(`wss://nls-gateway.cn-shanghai.aliyuncs.com/ws/v1?token=${token}`);\n     this.ws.connect();\n     this.event = this.ws.event;\n \n-    this.header['task_id'] = uuid.v4()\n-    this.header['message_id'] = uuid.v4()\n+    this.header['task_id'] = uuid.v4().replace(/-/g, '');\n+    this.header['message_id'] = uuid.v4().replace(/-/g, '');\n   }\n \n   send(data: any) {\n     this.ws?.send(this.handleSendMessage(data))\n"
                },
                {
                    "date": 1681642910513,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -7,9 +7,9 @@\n  * @FilePath: /speak-gpt/src/Transform/AliyunTransform.ts\n  */\n \n import { WSRequest } from '@/utils/WsRequest';\n-import uuid from 'uuid';\n+import { v4 as uuidv4} from 'uuid';\n import type { EventEmitter } from 'eventemitter3'\n \n const token = `7bce9de7bf1242de9e060caa6bdcd72c`\n type Header = {\n@@ -36,10 +36,10 @@\n     this.ws = new WSRequest(`wss://nls-gateway.cn-shanghai.aliyuncs.com/ws/v1?token=${token}`);\n     this.ws.connect();\n     this.event = this.ws.event;\n \n-    this.header['task_id'] = uuid.v4().replace(/-/g, '');\n-    this.header['message_id'] = uuid.v4().replace(/-/g, '');\n+    this.header['task_id'] = uuidv4().replace(/-/g, '');\n+    this.header['message_id'] = uuidv4().replace(/-/g, '');\n   }\n \n   send(data: any) {\n     this.ws?.send(this.handleSendMessage(data))\n"
                },
                {
                    "date": 1681643009956,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,9 +1,9 @@\n /*\n  * @Author: Allen OYang\n  * @Email:  allenwill211@gmail.com\n  * @Date: 2023-04-16 12:47:43\n- * @LastEditTime: 2023-04-16 19:01:16\n+ * @LastEditTime: 2023-04-16 19:03:28\n  * @LastEditors: Allen OYang allenwill211@gmail.com\n  * @FilePath: /speak-gpt/src/Transform/AliyunTransform.ts\n  */\n \n@@ -45,9 +45,8 @@\n     this.ws?.send(this.handleSendMessage(data))\n   }\n \n   handleSendMessage(message: DataView) {\n-    console.log('header', this.header)\n     return JSON.stringify({\n       header: this.header,\n       \"payload\": {\n         \"format\": message,\n"
                },
                {
                    "date": 1681643288846,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -7,9 +7,9 @@\n  * @FilePath: /speak-gpt/src/Transform/AliyunTransform.ts\n  */\n \n import { WSRequest } from '@/utils/WsRequest';\n-import { v4 as uuidv4} from 'uuid';\n+import { v4 as uuidv4 } from 'uuid';\n import type { EventEmitter } from 'eventemitter3'\n \n const token = `7bce9de7bf1242de9e060caa6bdcd72c`\n type Header = {\n@@ -35,14 +35,14 @@\n   constructor () {\n     this.ws = new WSRequest(`wss://nls-gateway.cn-shanghai.aliyuncs.com/ws/v1?token=${token}`);\n     this.ws.connect();\n     this.event = this.ws.event;\n-\n     this.header['task_id'] = uuidv4().replace(/-/g, '');\n     this.header['message_id'] = uuidv4().replace(/-/g, '');\n   }\n \n   send(data: any) {\n+    if (!data) return;\n     this.ws?.send(this.handleSendMessage(data))\n   }\n \n   handleSendMessage(message: DataView) {\n"
                },
                {
                    "date": 1681643624839,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,9 +1,9 @@\n /*\n  * @Author: Allen OYang\n  * @Email:  allenwill211@gmail.com\n  * @Date: 2023-04-16 12:47:43\n- * @LastEditTime: 2023-04-16 19:03:28\n+ * @LastEditTime: 2023-04-16 19:13:43\n  * @LastEditors: Allen OYang allenwill211@gmail.com\n  * @FilePath: /speak-gpt/src/Transform/AliyunTransform.ts\n  */\n \n@@ -37,25 +37,32 @@\n     this.ws.connect();\n     this.event = this.ws.event;\n     this.header['task_id'] = uuidv4().replace(/-/g, '');\n     this.header['message_id'] = uuidv4().replace(/-/g, '');\n+\n+    this.ws.event.on('open', () => {\n+      this.send(\n+        this.handleSendMessage()\n+      )\n+\n+    })\n   }\n \n   send(data: any) {\n     if (!data) return;\n     this.ws?.send(this.handleSendMessage(data))\n   }\n \n-  handleSendMessage(message: DataView) {\n+  handleSendMessage(message?: DataView) {\n     return JSON.stringify({\n       header: this.header,\n-      \"payload\": {\n-        \"format\": message,\n-        \"sample_rate\": 16000,\n-        \"enable_intermediate_result\": true,\n-        \"enable_punctuation_prediction\": true,\n-        \"enable_inverse_text_normalization\": true\n-      }\n+      // \"payload\": {\n+      //   \"format\": message,\n+      //   \"sample_rate\": 16000,\n+      //   \"enable_intermediate_result\": true,\n+      //   \"enable_punctuation_prediction\": true,\n+      //   \"enable_inverse_text_normalization\": true\n+      // }\n     })\n   }\n \n }\n\\ No newline at end of file\n"
                },
                {
                    "date": 1681643839181,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,9 +1,9 @@\n /*\n  * @Author: Allen OYang\n  * @Email:  allenwill211@gmail.com\n  * @Date: 2023-04-16 12:47:43\n- * @LastEditTime: 2023-04-16 19:13:43\n+ * @LastEditTime: 2023-04-16 19:17:19\n  * @LastEditors: Allen OYang allenwill211@gmail.com\n  * @FilePath: /speak-gpt/src/Transform/AliyunTransform.ts\n  */\n \n@@ -53,9 +53,13 @@\n   }\n \n   handleSendMessage(message?: DataView) {\n     return JSON.stringify({\n-      header: this.header,\n+      header: \n+      {\n+        ...this.header,\n+        message_id: uuidv4().replace(/-/g, '')\n+      },\n       // \"payload\": {\n       //   \"format\": message,\n       //   \"sample_rate\": 16000,\n       //   \"enable_intermediate_result\": true,\n"
                },
                {
                    "date": 1681643927461,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,9 +1,9 @@\n /*\n  * @Author: Allen OYang\n  * @Email:  allenwill211@gmail.com\n  * @Date: 2023-04-16 12:47:43\n- * @LastEditTime: 2023-04-16 19:17:19\n+ * @LastEditTime: 2023-04-16 19:18:47\n  * @LastEditors: Allen OYang allenwill211@gmail.com\n  * @FilePath: /speak-gpt/src/Transform/AliyunTransform.ts\n  */\n \n@@ -53,20 +53,20 @@\n   }\n \n   handleSendMessage(message?: DataView) {\n     return JSON.stringify({\n-      header: \n+      header:\n       {\n         ...this.header,\n         message_id: uuidv4().replace(/-/g, '')\n       },\n-      // \"payload\": {\n-      //   \"format\": message,\n-      //   \"sample_rate\": 16000,\n-      //   \"enable_intermediate_result\": true,\n-      //   \"enable_punctuation_prediction\": true,\n-      //   \"enable_inverse_text_normalization\": true\n-      // }\n+      \"payload\": {\n+        \"format\": \"opus\",\n+        \"sample_rate\": 16000,\n+        \"enable_intermediate_result\": true,\n+        \"enable_punctuation_prediction\": true,\n+        \"enable_inverse_text_normalization\": true\n+    }\n     })\n   }\n \n }\n\\ No newline at end of file\n"
                },
                {
                    "date": 1681644574819,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -45,8 +45,12 @@\n       )\n \n     })\n   }\n+  \n+  sendBlob(blob: Blob) {\n+    this.ws?.send(blob)\n+  }\n \n   send(data: any) {\n     if (!data) return;\n     this.ws?.send(this.handleSendMessage(data))\n"
                },
                {
                    "date": 1681645026219,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,9 +1,9 @@\n /*\n  * @Author: Allen OYang\n  * @Email:  allenwill211@gmail.com\n  * @Date: 2023-04-16 12:47:43\n- * @LastEditTime: 2023-04-16 19:18:47\n+ * @LastEditTime: 2023-04-16 19:37:04\n  * @LastEditors: Allen OYang allenwill211@gmail.com\n  * @FilePath: /speak-gpt/src/Transform/AliyunTransform.ts\n  */\n \n@@ -29,8 +29,10 @@\n     namespace: 'SpeechTranscriber',\n     name: 'StartTranscription',\n     task_id: ''\n   }\n+  private firstSend = false\n+  private wsReady = false\n \n \n   constructor () {\n     this.ws = new WSRequest(`wss://nls-gateway.cn-shanghai.aliyuncs.com/ws/v1?token=${token}`);\n@@ -39,17 +41,21 @@\n     this.header['task_id'] = uuidv4().replace(/-/g, '');\n     this.header['message_id'] = uuidv4().replace(/-/g, '');\n \n     this.ws.event.on('open', () => {\n-      this.send(\n-        this.handleSendMessage()\n-      )\n-\n+      this.wsReady = true\n     })\n   }\n   \n   sendBlob(blob: Blob) {\n-    this.ws?.send(blob)\n+    if (this.wsReady) {\n+      if (this.firstSend) {\n+        this.ws?.send(this.handleSendMessage())\n+        this.firstSend = false\n+      }\n+      this.ws?.send(blob)\n+    }\n+    \n   }\n \n   send(data: any) {\n     if (!data) return;\n"
                },
                {
                    "date": 1681645249973,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,9 +1,9 @@\n /*\n  * @Author: Allen OYang\n  * @Email:  allenwill211@gmail.com\n  * @Date: 2023-04-16 12:47:43\n- * @LastEditTime: 2023-04-16 19:37:04\n+ * @LastEditTime: 2023-04-16 19:40:49\n  * @LastEditors: Allen OYang allenwill211@gmail.com\n  * @FilePath: /speak-gpt/src/Transform/AliyunTransform.ts\n  */\n \n@@ -29,9 +29,9 @@\n     namespace: 'SpeechTranscriber',\n     name: 'StartTranscription',\n     task_id: ''\n   }\n-  private firstSend = false\n+  private firstSend = true\n   private wsReady = false\n \n \n   constructor () {\n"
                },
                {
                    "date": 1681645354418,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,9 +1,9 @@\n /*\n  * @Author: Allen OYang\n  * @Email:  allenwill211@gmail.com\n  * @Date: 2023-04-16 12:47:43\n- * @LastEditTime: 2023-04-16 19:40:49\n+ * @LastEditTime: 2023-04-16 19:42:34\n  * @LastEditors: Allen OYang allenwill211@gmail.com\n  * @FilePath: /speak-gpt/src/Transform/AliyunTransform.ts\n  */\n \n@@ -31,8 +31,9 @@\n     task_id: ''\n   }\n   private firstSend = true\n   private wsReady = false\n+  private firstMessageResponse = false\n \n \n   constructor () {\n     this.ws = new WSRequest(`wss://nls-gateway.cn-shanghai.aliyuncs.com/ws/v1?token=${token}`);\n@@ -43,17 +44,21 @@\n \n     this.ws.event.on('open', () => {\n       this.wsReady = true\n     })\n+\n+    this.ws.event.on('message', () => {\n+      this.firstMessageResponse = true\n+    })\n   }\n   \n   sendBlob(blob: Blob) {\n     if (this.wsReady) {\n       if (this.firstSend) {\n         this.ws?.send(this.handleSendMessage())\n         this.firstSend = false\n       }\n-      this.ws?.send(blob)\n+      this.firstMessageResponse && this.ws?.send(blob)\n     }\n     \n   }\n \n"
                },
                {
                    "date": 1681648231864,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -26,9 +26,9 @@\n   private header: Header = {\n     appkey: 'GBS08YSKIqJ9qoEo',\n     message_id: '',\n     namespace: 'SpeechTranscriber',\n-    name: 'StartTranscription',\n+    name: '',\n     task_id: ''\n   }\n   private firstSend = true\n   private wsReady = false\n@@ -49,39 +49,51 @@\n     this.ws.event.on('message', () => {\n       this.firstMessageResponse = true\n     })\n   }\n-  \n+\n   sendBlob(blob: Blob) {\n     if (this.wsReady) {\n       if (this.firstSend) {\n-        this.ws?.send(this.handleSendMessage())\n+        this.ws?.send(this.handleSendMessage(\n+          {\n+            headers: {\n+              message_id: uuidv4().replace(/-/g, ''),\n+              name: 'StartTranscription',\n+            },\n+            \"payload\": {\n+              \"format\": \"opus\",\n+              \"sample_rate\": 16000,\n+              \"enable_intermediate_result\": true,\n+              \"enable_punctuation_prediction\": true,\n+              \"enable_inverse_text_normalization\": true\n+            }\n+          }\n+        ))\n         this.firstSend = false\n       }\n       this.firstMessageResponse && this.ws?.send(blob)\n     }\n-    \n+\n   }\n \n   send(data: any) {\n     if (!data) return;\n     this.ws?.send(this.handleSendMessage(data))\n   }\n \n-  handleSendMessage(message?: DataView) {\n-    return JSON.stringify({\n-      header:\n-      {\n-        ...this.header,\n-        message_id: uuidv4().replace(/-/g, '')\n-      },\n-      \"payload\": {\n-        \"format\": \"opus\",\n-        \"sample_rate\": 16000,\n-        \"enable_intermediate_result\": true,\n-        \"enable_punctuation_prediction\": true,\n-        \"enable_inverse_text_normalization\": true\n-    }\n-    })\n+  handleSendMessage(data: { headers: any, payload?: any }) {\n+    const { headers, payload } = data\n+    return JSON.stringify(\n+      Object.assign(\n+        {\n+          header:\n+          {\n+            ...this.header,\n+            ...headers,\n+          },\n+        }, payload ? { payload: data.payload } : {}\n+      )\n+    )\n   }\n \n }\n\\ No newline at end of file\n"
                },
                {
                    "date": 1681711992976,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,9 +1,9 @@\n /*\n  * @Author: Allen OYang\n  * @Email:  allenwill211@gmail.com\n  * @Date: 2023-04-16 12:47:43\n- * @LastEditTime: 2023-04-16 19:42:34\n+ * @LastEditTime: 2023-04-17 14:13:12\n  * @LastEditors: Allen OYang allenwill211@gmail.com\n  * @FilePath: /speak-gpt/src/Transform/AliyunTransform.ts\n  */\n \n"
                }
            ],
            "date": 1681633370440,
            "name": "Commit-0",
            "content": "/*\n * @Author: Allen OYang\n * @Email:  allenwill211@gmail.com\n * @Date: 2023-04-16 12:47:43\n * @LastEditTime: 2023-04-16 12:56:48\n * @LastEditors: Allen OYang allenwill211@gmail.com\n * @FilePath: /speak-gpt/src/core/AliyunTransform.ts\n */\n\nimport { WSRequest } from '@/utils/WsRequest';\n\nconst token = `7bce9de7bf1242de9e060caa6bdcd72c`\n\nexport class AliyunTransformAudio {\n  ws: WSRequest | null = null;\n  constructor () { \n    this.ws = new WSRequest(`wss://nls-gateway.cn-shanghai.aliyuncs.com/ws/v1?token=${token}`);\n  }\n}"
        }
    ]
}