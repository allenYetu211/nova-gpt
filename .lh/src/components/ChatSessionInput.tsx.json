{
    "sourceFile": "src/components/ChatSessionInput.tsx",
    "activeCommit": 0,
    "commits": [
        {
            "activePatchIndex": 95,
            "patches": [
                {
                    "date": 1681811079909,
                    "content": "Index: \n===================================================================\n--- \n+++ \n"
                },
                {
                    "date": 1681811117334,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -30,9 +30,9 @@\n     <>\n \n       <Group position=\"apart\">\n         {\n-          editState ? <Input onChange={onEdit} /> : <Text>{inputTitle}</Text>\n+          editState ? <Input onChange={onEdit} value={inputTitle}/> : <Text>{inputTitle}</Text>\n         }\n         <ActionIcon>\n           <IconEdit onClick={onEditClick} size=\"1.125rem\" />\n         </ActionIcon>\n"
                },
                {
                    "date": 1681811270352,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -30,9 +30,20 @@\n     <>\n \n       <Group position=\"apart\">\n         {\n-          editState ? <Input onChange={onEdit} value={inputTitle}/> : <Text>{inputTitle}</Text>\n+          editState ?\n+            <Input\n+              onChange={onEdit}\n+              value={inputTitle}\n+              sx={() => {\n+                return {\n+                  border: 'none',\n+                }\n+              }}\n+            />\n+            :\n+            <Text>{inputTitle}</Text>\n         }\n         <ActionIcon>\n           <IconEdit onClick={onEditClick} size=\"1.125rem\" />\n         </ActionIcon>\n"
                },
                {
                    "date": 1681811555818,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -0,0 +1,75 @@\n+/*\n+ * @Author: Allen OYang\n+ * @Email:  allenwill211@gmail.com\n+ * @Date: 2023-04-18 17:34:12\n+ * @LastEditTime: 2023-04-18 17:52:35\n+ * @LastEditors: Allen OYang allenwill211@gmail.com\n+ * @FilePath: /speak-gpt/src/components/ChatSessionInput.tsx\n+ */\n+import { useChatStore } from \"@/stores/ChatStore\";\n+\n+import {\n+  Input,\n+  Text,\n+  Flex,\n+  ActionIcon,\n+  createStyles\n+} from \"@mantine/core\";\n+import { IconEdit } from \"@tabler/icons-react\";\n+import { useState } from \"react\";\n+\n+interface ChatSessionInputProps {\n+  title: string;\n+  id: string;\n+}\n+\n+const useStyles = createStyles((theme) => ({\n+  editInput: {\n+    border: 'none',\n+    borderRadius: 0,\n+    borderBottom: `1px solid ${theme.colors.dark[2]}`,\n+  }\n+}));\n+export function ChatSessionInput(props: ChatSessionInputProps) {\n+  const [editState, setEditState] = useState<boolean>(false)\n+  const [inputTitle, setInputTitle] = useState<string>(props.title || '')\n+  const { classes, theme } = useStyles()\n+\n+\n+  const onEdit = (e: React.ChangeEvent<HTMLInputElement>) => {\n+    setInputTitle(e.target.value)\n+  }\n+\n+  const onEditClick = () => {\n+    setEditState(!editState)\n+  }\n+\n+  return (\n+    <>\n+\n+      <Flex\n+        mih={50}\n+        gap=\"md\"\n+        justify=\"space-evenly\"\n+        align=\"center\"\n+        direction=\"row\"\n+        wrap=\"wrap\"\n+      >\n+        {\n+          editState ?\n+            <Input\n+              onChange={onEdit}\n+              value={inputTitle}\n+              size=\"xs\"\n+              className={classes.editInput}\n+            />\n+            :\n+            <Text>{inputTitle}</Text>\n+        }\n+        <ActionIcon>\n+          <IconEdit onClick={onEditClick} size=\"1.125rem\" />\n+        </ActionIcon>\n+      </Flex>\n+    </>\n+  )\n+}\n\\ No newline at end of file\n"
                },
                {
                    "date": 1681811578345,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -47,9 +47,8 @@\n   return (\n     <>\n \n       <Flex\n-        mih={50}\n         gap=\"md\"\n         justify=\"space-evenly\"\n         align=\"center\"\n         direction=\"row\"\n@@ -71,58 +70,5 @@\n         </ActionIcon>\n       </Flex>\n     </>\n   )\n-}\n-import { useChatStore } from \"@/stores/ChatStore\";\n-\n-import {\n-  Input,\n-  Text,\n-  Group,\n-  ActionIcon\n-} from \"@mantine/core\";\n-import { IconEdit } from \"@tabler/icons-react\";\n-import { useState } from \"react\";\n-\n-interface ChatSessionInputProps {\n-  title: string;\n-  id: string;\n-}\n-export function ChatSessionInput(props: ChatSessionInputProps) {\n-  const [editState, setEditState] = useState<boolean>(false)\n-  const [inputTitle, setInputTitle] = useState<string>(props.title || '')\n-\n-\n-  const onEdit = (e: React.ChangeEvent<HTMLInputElement>) => {\n-    setInputTitle(e.target.value)\n-  }\n-\n-  const onEditClick = () => {\n-    setEditState(!editState)\n-  }\n-\n-  return (\n-    <>\n-\n-      <Group position=\"apart\">\n-        {\n-          editState ?\n-            <Input\n-              onChange={onEdit}\n-              value={inputTitle}\n-              sx={() => {\n-                return {\n-                  border: 'none',\n-                }\n-              }}\n-            />\n-            :\n-            <Text>{inputTitle}</Text>\n-        }\n-        <ActionIcon>\n-          <IconEdit onClick={onEditClick} size=\"1.125rem\" />\n-        </ActionIcon>\n-      </Group>\n-    </>\n-  )\n }\n\\ No newline at end of file\n"
                },
                {
                    "date": 1681811591057,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -48,9 +48,9 @@\n     <>\n \n       <Flex\n         gap=\"md\"\n-        justify=\"space-evenly\"\n+        justify=\"space-between\"\n         align=\"center\"\n         direction=\"row\"\n         wrap=\"wrap\"\n       >\n"
                },
                {
                    "date": 1681811612791,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -27,8 +27,9 @@\n   editInput: {\n     border: 'none',\n     borderRadius: 0,\n     borderBottom: `1px solid ${theme.colors.dark[2]}`,\n+    flex: 1\n   }\n }));\n export function ChatSessionInput(props: ChatSessionInputProps) {\n   const [editState, setEditState] = useState<boolean>(false)\n"
                },
                {
                    "date": 1681811668928,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,9 +1,9 @@\n /*\n  * @Author: Allen OYang\n  * @Email:  allenwill211@gmail.com\n  * @Date: 2023-04-18 17:34:12\n- * @LastEditTime: 2023-04-18 17:52:35\n+ * @LastEditTime: 2023-04-18 17:54:28\n  * @LastEditors: Allen OYang allenwill211@gmail.com\n  * @FilePath: /speak-gpt/src/components/ChatSessionInput.tsx\n  */\n import { useChatStore } from \"@/stores/ChatStore\";\n"
                },
                {
                    "date": 1681811742977,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,9 +1,9 @@\n /*\n  * @Author: Allen OYang\n  * @Email:  allenwill211@gmail.com\n  * @Date: 2023-04-18 17:34:12\n- * @LastEditTime: 2023-04-18 17:54:28\n+ * @LastEditTime: 2023-04-18 17:55:42\n  * @LastEditors: Allen OYang allenwill211@gmail.com\n  * @FilePath: /speak-gpt/src/components/ChatSessionInput.tsx\n  */\n import { useChatStore } from \"@/stores/ChatStore\";\n@@ -15,9 +15,9 @@\n   ActionIcon,\n   createStyles\n } from \"@mantine/core\";\n import { IconEdit } from \"@tabler/icons-react\";\n-import { useState } from \"react\";\n+import { useState, useRef } from \"react\";\n \n interface ChatSessionInputProps {\n   title: string;\n   id: string;\n@@ -26,23 +26,27 @@\n const useStyles = createStyles((theme) => ({\n   editInput: {\n     border: 'none',\n     borderRadius: 0,\n-    borderBottom: `1px solid ${theme.colors.dark[2]}`,\n     flex: 1\n   }\n }));\n export function ChatSessionInput(props: ChatSessionInputProps) {\n   const [editState, setEditState] = useState<boolean>(false)\n   const [inputTitle, setInputTitle] = useState<string>(props.title || '')\n-  const { classes, theme } = useStyles()\n \n+  const inputEl = useRef<HTMLInputElement>(null)\n+  const { classes } = useStyles()\n \n+\n   const onEdit = (e: React.ChangeEvent<HTMLInputElement>) => {\n     setInputTitle(e.target.value)\n   }\n \n   const onEditClick = () => {\n+    if (!editState) {\n+      inputEl.current?.focus()\n+    }\n     setEditState(!editState)\n   }\n \n   return (\n@@ -57,8 +61,9 @@\n       >\n         {\n           editState ?\n             <Input\n+              ref={inputEl}\n               onChange={onEdit}\n               value={inputTitle}\n               size=\"xs\"\n               className={classes.editInput}\n"
                },
                {
                    "date": 1681811793730,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -64,8 +64,9 @@\n             <Input\n               ref={inputEl}\n               onChange={onEdit}\n               value={inputTitle}\n+              onBlur={onEditClick}\n               size=\"xs\"\n               className={classes.editInput}\n             />\n             :\n"
                },
                {
                    "date": 1681811901778,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,9 +1,9 @@\n /*\n  * @Author: Allen OYang\n  * @Email:  allenwill211@gmail.com\n  * @Date: 2023-04-18 17:34:12\n- * @LastEditTime: 2023-04-18 17:55:42\n+ * @LastEditTime: 2023-04-18 17:58:21\n  * @LastEditors: Allen OYang allenwill211@gmail.com\n  * @FilePath: /speak-gpt/src/components/ChatSessionInput.tsx\n  */\n import { useChatStore } from \"@/stores/ChatStore\";\n@@ -50,9 +50,8 @@\n   }\n \n   return (\n     <>\n-\n       <Flex\n         gap=\"md\"\n         justify=\"space-between\"\n         align=\"center\"\n@@ -69,9 +68,9 @@\n               size=\"xs\"\n               className={classes.editInput}\n             />\n             :\n-            <Text>{inputTitle}</Text>\n+            <Text size=\"xs\">{inputTitle}</Text>\n         }\n         <ActionIcon>\n           <IconEdit onClick={onEditClick} size=\"1.125rem\" />\n         </ActionIcon>\n"
                },
                {
                    "date": 1681812014236,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,9 +1,9 @@\n /*\n  * @Author: Allen OYang\n  * @Email:  allenwill211@gmail.com\n  * @Date: 2023-04-18 17:34:12\n- * @LastEditTime: 2023-04-18 17:58:21\n+ * @LastEditTime: 2023-04-18 18:00:13\n  * @LastEditors: Allen OYang allenwill211@gmail.com\n  * @FilePath: /speak-gpt/src/components/ChatSessionInput.tsx\n  */\n import { useChatStore } from \"@/stores/ChatStore\";\n@@ -42,12 +42,10 @@\n     setInputTitle(e.target.value)\n   }\n \n   const onEditClick = () => {\n-    if (!editState) {\n-      inputEl.current?.focus()\n-    }\n-    setEditState(!editState)\n+    inputEl.current?.focus()\n+    setEditState(true)\n   }\n \n   return (\n     <>\n@@ -63,9 +61,9 @@\n             <Input\n               ref={inputEl}\n               onChange={onEdit}\n               value={inputTitle}\n-              onBlur={onEditClick}\n+              onBlur={() => { setEditState(false) }}\n               size=\"xs\"\n               className={classes.editInput}\n             />\n             :\n"
                },
                {
                    "date": 1681812031003,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -42,10 +42,10 @@\n     setInputTitle(e.target.value)\n   }\n \n   const onEditClick = () => {\n+    setEditState(true)\n     inputEl.current?.focus()\n-    setEditState(true)\n   }\n \n   return (\n     <>\n"
                },
                {
                    "date": 1681812069376,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -43,9 +43,11 @@\n   }\n \n   const onEditClick = () => {\n     setEditState(true)\n+    setTimeout(() => {\n     inputEl.current?.focus()\n+    }, 0)\n   }\n \n   return (\n     <>\n"
                },
                {
                    "date": 1681812533704,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,14 +1,12 @@\n /*\n  * @Author: Allen OYang\n  * @Email:  allenwill211@gmail.com\n  * @Date: 2023-04-18 17:34:12\n- * @LastEditTime: 2023-04-18 18:00:13\n+ * @LastEditTime: 2023-04-18 18:08:52\n  * @LastEditors: Allen OYang allenwill211@gmail.com\n  * @FilePath: /speak-gpt/src/components/ChatSessionInput.tsx\n  */\n-import { useChatStore } from \"@/stores/ChatStore\";\n-\n import {\n   Input,\n   Text,\n   Flex,\n@@ -16,9 +14,11 @@\n   createStyles\n } from \"@mantine/core\";\n import { IconEdit } from \"@tabler/icons-react\";\n import { useState, useRef } from \"react\";\n+import { findChat, changeChat } from '@/stores/ChatAction'\n \n+\n interface ChatSessionInputProps {\n   title: string;\n   id: string;\n }\n@@ -31,22 +31,23 @@\n   }\n }));\n export function ChatSessionInput(props: ChatSessionInputProps) {\n   const [editState, setEditState] = useState<boolean>(false)\n-  const [inputTitle, setInputTitle] = useState<string>(props.title || '')\n \n+  const chat = findChat(props.id)\n+\n   const inputEl = useRef<HTMLInputElement>(null)\n   const { classes } = useStyles()\n \n \n   const onEdit = (e: React.ChangeEvent<HTMLInputElement>) => {\n-    setInputTitle(e.target.value)\n+    changeChat(props.id, { title: e.target.value })\n   }\n \n   const onEditClick = () => {\n     setEditState(true)\n     setTimeout(() => {\n-    inputEl.current?.focus()\n+      inputEl.current?.focus()\n     }, 0)\n   }\n \n   return (\n@@ -62,15 +63,15 @@\n           editState ?\n             <Input\n               ref={inputEl}\n               onChange={onEdit}\n-              value={inputTitle}\n+              value={chat?.title || ''}\n               onBlur={() => { setEditState(false) }}\n               size=\"xs\"\n               className={classes.editInput}\n             />\n             :\n-            <Text size=\"xs\">{inputTitle}</Text>\n+            <Text size=\"xs\">{chat?.title || ''}</Text>\n         }\n         <ActionIcon>\n           <IconEdit onClick={onEditClick} size=\"1.125rem\" />\n         </ActionIcon>\n"
                },
                {
                    "date": 1681812584421,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -49,8 +49,12 @@\n       inputEl.current?.focus()\n     }, 0)\n   }\n \n+  const onEditBlur = () => {\n+    setEditState(false)\n+  }\n+\n   return (\n     <>\n       <Flex\n         gap=\"md\"\n@@ -64,9 +68,10 @@\n             <Input\n               ref={inputEl}\n               onChange={onEdit}\n               value={chat?.title || ''}\n-              onBlur={() => { setEditState(false) }}\n+              onBlur={onEditBlur}\n+              onEnter={onEditBlur}\n               size=\"xs\"\n               className={classes.editInput}\n             />\n             :\n"
                },
                {
                    "date": 1681812610103,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,9 +1,9 @@\n /*\n  * @Author: Allen OYang\n  * @Email:  allenwill211@gmail.com\n  * @Date: 2023-04-18 17:34:12\n- * @LastEditTime: 2023-04-18 18:08:52\n+ * @LastEditTime: 2023-04-18 18:10:09\n  * @LastEditors: Allen OYang allenwill211@gmail.com\n  * @FilePath: /speak-gpt/src/components/ChatSessionInput.tsx\n  */\n import {\n"
                },
                {
                    "date": 1681812837946,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,9 +1,9 @@\n /*\n  * @Author: Allen OYang\n  * @Email:  allenwill211@gmail.com\n  * @Date: 2023-04-18 17:34:12\n- * @LastEditTime: 2023-04-18 18:10:09\n+ * @LastEditTime: 2023-04-18 18:13:57\n  * @LastEditors: Allen OYang allenwill211@gmail.com\n  * @FilePath: /speak-gpt/src/components/ChatSessionInput.tsx\n  */\n import {\n@@ -61,17 +61,17 @@\n         justify=\"space-between\"\n         align=\"center\"\n         direction=\"row\"\n         wrap=\"wrap\"\n+        \n       >\n         {\n           editState ?\n             <Input\n               ref={inputEl}\n               onChange={onEdit}\n               value={chat?.title || ''}\n               onBlur={onEditBlur}\n-              onEnter={onEditBlur}\n               size=\"xs\"\n               className={classes.editInput}\n             />\n             :\n"
                },
                {
                    "date": 1681812879841,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -31,15 +31,14 @@\n   }\n }));\n export function ChatSessionInput(props: ChatSessionInputProps) {\n   const [editState, setEditState] = useState<boolean>(false)\n-\n   const chat = findChat(props.id)\n-\n   const inputEl = useRef<HTMLInputElement>(null)\n-  const { classes } = useStyles()\n \n+  console.log('ChatSessionInput')\n \n+\n   const onEdit = (e: React.ChangeEvent<HTMLInputElement>) => {\n     changeChat(props.id, { title: e.target.value })\n   }\n \n@@ -53,8 +52,9 @@\n   const onEditBlur = () => {\n     setEditState(false)\n   }\n \n+  const { classes } = useStyles()\n   return (\n     <>\n       <Flex\n         gap=\"md\"\n"
                },
                {
                    "date": 1681812912975,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,9 +1,9 @@\n /*\n  * @Author: Allen OYang\n  * @Email:  allenwill211@gmail.com\n  * @Date: 2023-04-18 17:34:12\n- * @LastEditTime: 2023-04-18 18:13:57\n+ * @LastEditTime: 2023-04-18 18:15:12\n  * @LastEditors: Allen OYang allenwill211@gmail.com\n  * @FilePath: /speak-gpt/src/components/ChatSessionInput.tsx\n  */\n import {\n@@ -34,11 +34,9 @@\n   const [editState, setEditState] = useState<boolean>(false)\n   const chat = findChat(props.id)\n   const inputEl = useRef<HTMLInputElement>(null)\n \n-  console.log('ChatSessionInput')\n \n-\n   const onEdit = (e: React.ChangeEvent<HTMLInputElement>) => {\n     changeChat(props.id, { title: e.target.value })\n   }\n \n"
                },
                {
                    "date": 1681813531360,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,9 +1,9 @@\n /*\n  * @Author: Allen OYang\n  * @Email:  allenwill211@gmail.com\n  * @Date: 2023-04-18 17:34:12\n- * @LastEditTime: 2023-04-18 18:15:12\n+ * @LastEditTime: 2023-04-18 18:25:31\n  * @LastEditors: Allen OYang allenwill211@gmail.com\n  * @FilePath: /speak-gpt/src/components/ChatSessionInput.tsx\n  */\n import {\n@@ -13,9 +13,9 @@\n   ActionIcon,\n   createStyles\n } from \"@mantine/core\";\n import { IconEdit } from \"@tabler/icons-react\";\n-import { useState, useRef } from \"react\";\n+import { useState, useRef, memo } from \"react\";\n import { findChat, changeChat } from '@/stores/ChatAction'\n \n \n interface ChatSessionInputProps {\n@@ -29,9 +29,10 @@\n     borderRadius: 0,\n     flex: 1\n   }\n }));\n-export function ChatSessionInput(props: ChatSessionInputProps) {\n+\n+export const ChatSessionInput = memo((props: ChatSessionInputProps) => {\n   const [editState, setEditState] = useState<boolean>(false)\n   const chat = findChat(props.id)\n   const inputEl = useRef<HTMLInputElement>(null)\n \n@@ -59,9 +60,9 @@\n         justify=\"space-between\"\n         align=\"center\"\n         direction=\"row\"\n         wrap=\"wrap\"\n-        \n+\n       >\n         {\n           editState ?\n             <Input\n@@ -80,5 +81,5 @@\n         </ActionIcon>\n       </Flex>\n     </>\n   )\n-}\n\\ No newline at end of file\n+})\n"
                },
                {
                    "date": 1681816220396,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,9 +1,9 @@\n /*\n  * @Author: Allen OYang\n  * @Email:  allenwill211@gmail.com\n  * @Date: 2023-04-18 17:34:12\n- * @LastEditTime: 2023-04-18 18:25:31\n+ * @LastEditTime: 2023-04-18 19:10:20\n  * @LastEditors: Allen OYang allenwill211@gmail.com\n  * @FilePath: /speak-gpt/src/components/ChatSessionInput.tsx\n  */\n import {\n@@ -15,16 +15,20 @@\n } from \"@mantine/core\";\n import { IconEdit } from \"@tabler/icons-react\";\n import { useState, useRef, memo } from \"react\";\n import { findChat, changeChat } from '@/stores/ChatAction'\n+import { useChatStore } from \"@/stores/ChatStore\";\n \n \n interface ChatSessionInputProps {\n   title: string;\n   id: string;\n }\n \n const useStyles = createStyles((theme) => ({\n+  chatItemActive: {\n+    backgroundColor: theme.colors.dark[4],\n+  },\n   editInput: {\n     border: 'none',\n     borderRadius: 0,\n     flex: 1\n@@ -34,10 +38,12 @@\n export const ChatSessionInput = memo((props: ChatSessionInputProps) => {\n   const [editState, setEditState] = useState<boolean>(false)\n   const chat = findChat(props.id)\n   const inputEl = useRef<HTMLInputElement>(null)\n+  const activeChatId = useChatStore((state) => state.activeChatId)\n \n \n+\n   const onEdit = (e: React.ChangeEvent<HTMLInputElement>) => {\n     changeChat(props.id, { title: e.target.value })\n   }\n \n@@ -60,9 +66,9 @@\n         justify=\"space-between\"\n         align=\"center\"\n         direction=\"row\"\n         wrap=\"wrap\"\n-\n+        className={ activeChatId === props.id && classes.chatItemActive }\n       >\n         {\n           editState ?\n             <Input\n"
                },
                {
                    "date": 1681816248523,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -66,9 +66,9 @@\n         justify=\"space-between\"\n         align=\"center\"\n         direction=\"row\"\n         wrap=\"wrap\"\n-        className={ activeChatId === props.id && classes.chatItemActive }\n+        className={ activeChatId === props.id ? classes.chatItemActive  : ''}\n       >\n         {\n           editState ?\n             <Input\n"
                },
                {
                    "date": 1681816340262,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -0,0 +1,92 @@\n+/*\n+ * @Author: Allen OYang\n+ * @Email:  allenwill211@gmail.com\n+ * @Date: 2023-04-18 17:34:12\n+ * @LastEditTime: 2023-04-18 19:10:20\n+ * @LastEditors: Allen OYang allenwill211@gmail.com\n+ * @FilePath: /speak-gpt/src/components/ChatSessionInput.tsx\n+ */\n+import {\n+  Input,\n+  Text,\n+  Flex,\n+  ActionIcon,\n+  createStyles\n+} from \"@mantine/core\";\n+import { IconEdit } from \"@tabler/icons-react\";\n+import { useState, useRef, memo } from \"react\";\n+import { findChat, changeChat } from '@/stores/ChatAction'\n+import { useChatStore } from \"@/stores/ChatStore\";\n+\n+\n+interface ChatSessionInputProps {\n+  title: string;\n+  id: string;\n+}\n+\n+const useStyles = createStyles((theme) => ({\n+  chatItemActive: {\n+    backgroundColor: theme.colors.dark[4],\n+  },\n+  editInput: {\n+    border: 'none',\n+    borderRadius: 0,\n+    flex: 1\n+  }\n+}));\n+\n+export const ChatSessionInput = memo((props: ChatSessionInputProps) => {\n+  const [editState, setEditState] = useState<boolean>(false)\n+  const chat = findChat(props.id)\n+  const inputEl = useRef<HTMLInputElement>(null)\n+  const activeChatId = useChatStore((state) => state.activeChatId)\n+\n+\n+\n+  const onEdit = (e: React.ChangeEvent<HTMLInputElement>) => {\n+    changeChat(props.id, { title: e.target.value })\n+  }\n+\n+  const onEditClick = () => {\n+    setEditState(true)\n+    setTimeout(() => {\n+      inputEl.current?.focus()\n+    }, 0)\n+  }\n+\n+  const onEditBlur = () => {\n+    setEditState(false)\n+  }\n+\n+  const { classes } = useStyles()\n+  return (\n+    <>\n+      <Flex\n+        gap=\"md\"\n+        justify=\"space-between\"\n+        align=\"center\"\n+        direction=\"row\"\n+        wrap=\"wrap\"\n+        className={activeChatId === props.id ? classes.chatItemActive : ''}\n+        onClick={}\n+      >\n+        {\n+          editState ?\n+            <Input\n+              ref={inputEl}\n+              onChange={onEdit}\n+              value={chat?.title || ''}\n+              onBlur={onEditBlur}\n+              size=\"xs\"\n+              className={classes.editInput}\n+            />\n+            :\n+            <Text size=\"xs\">{chat?.title || ''}</Text>\n+        }\n+        <ActionIcon>\n+          <IconEdit onClick={onEditClick} size=\"1.125rem\" />\n+        </ActionIcon>\n+      </Flex>\n+    </>\n+  )\n+})\n"
                },
                {
                    "date": 1681816394459,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -14,9 +14,9 @@\n   createStyles\n } from \"@mantine/core\";\n import { IconEdit } from \"@tabler/icons-react\";\n import { useState, useRef, memo } from \"react\";\n-import { findChat, changeChat } from '@/stores/ChatAction'\n+import { findChat, changeActiveChatId, changeChat } from '@/stores/ChatAction'\n import { useChatStore } from \"@/stores/ChatStore\";\n \n \n interface ChatSessionInputProps {\n@@ -57,8 +57,11 @@\n   const onEditBlur = () => {\n     setEditState(false)\n   }\n \n+  const onChatClick = () => {\n+    changeActiveChatId(props.id)\n+  }\n   const { classes } = useStyles()\n   return (\n     <>\n       <Flex\n@@ -67,9 +70,9 @@\n         align=\"center\"\n         direction=\"row\"\n         wrap=\"wrap\"\n         className={activeChatId === props.id ? classes.chatItemActive : ''}\n-        onClick={}\n+        onClick={onChatClick}\n       >\n         {\n           editState ?\n             <Input\n@@ -89,95 +92,4 @@\n       </Flex>\n     </>\n   )\n })\n-/*\n- * @Author: Allen OYang\n- * @Email:  allenwill211@gmail.com\n- * @Date: 2023-04-18 17:34:12\n- * @LastEditTime: 2023-04-18 19:10:20\n- * @LastEditors: Allen OYang allenwill211@gmail.com\n- * @FilePath: /speak-gpt/src/components/ChatSessionInput.tsx\n- */\n-import {\n-  Input,\n-  Text,\n-  Flex,\n-  ActionIcon,\n-  createStyles\n-} from \"@mantine/core\";\n-import { IconEdit } from \"@tabler/icons-react\";\n-import { useState, useRef, memo } from \"react\";\n-import { findChat, changeChat } from '@/stores/ChatAction'\n-import { useChatStore } from \"@/stores/ChatStore\";\n-\n-\n-interface ChatSessionInputProps {\n-  title: string;\n-  id: string;\n-}\n-\n-const useStyles = createStyles((theme) => ({\n-  chatItemActive: {\n-    backgroundColor: theme.colors.dark[4],\n-  },\n-  editInput: {\n-    border: 'none',\n-    borderRadius: 0,\n-    flex: 1\n-  }\n-}));\n-\n-export const ChatSessionInput = memo((props: ChatSessionInputProps) => {\n-  const [editState, setEditState] = useState<boolean>(false)\n-  const chat = findChat(props.id)\n-  const inputEl = useRef<HTMLInputElement>(null)\n-  const activeChatId = useChatStore((state) => state.activeChatId)\n-\n-\n-\n-  const onEdit = (e: React.ChangeEvent<HTMLInputElement>) => {\n-    changeChat(props.id, { title: e.target.value })\n-  }\n-\n-  const onEditClick = () => {\n-    setEditState(true)\n-    setTimeout(() => {\n-      inputEl.current?.focus()\n-    }, 0)\n-  }\n-\n-  const onEditBlur = () => {\n-    setEditState(false)\n-  }\n-\n-  const { classes } = useStyles()\n-  return (\n-    <>\n-      <Flex\n-        gap=\"md\"\n-        justify=\"space-between\"\n-        align=\"center\"\n-        direction=\"row\"\n-        wrap=\"wrap\"\n-        className={ activeChatId === props.id ? classes.chatItemActive  : ''}\n-      >\n-        {\n-          editState ?\n-            <Input\n-              ref={inputEl}\n-              onChange={onEdit}\n-              value={chat?.title || ''}\n-              onBlur={onEditBlur}\n-              size=\"xs\"\n-              className={classes.editInput}\n-            />\n-            :\n-            <Text size=\"xs\">{chat?.title || ''}</Text>\n-        }\n-        <ActionIcon>\n-          <IconEdit onClick={onEditClick} size=\"1.125rem\" />\n-        </ActionIcon>\n-      </Flex>\n-    </>\n-  )\n-})\n"
                },
                {
                    "date": 1681816606126,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -14,21 +14,18 @@\n   createStyles\n } from \"@mantine/core\";\n import { IconEdit } from \"@tabler/icons-react\";\n import { useState, useRef, memo } from \"react\";\n-import { findChat, changeActiveChatId, changeChat } from '@/stores/ChatAction'\n-import { useChatStore } from \"@/stores/ChatStore\";\n+import { findChat,  changeChat } from '@/stores/ChatAction'\n \n \n interface ChatSessionInputProps {\n   title: string;\n   id: string;\n }\n \n const useStyles = createStyles((theme) => ({\n-  chatItemActive: {\n-    backgroundColor: theme.colors.dark[4],\n-  },\n+ \n   editInput: {\n     border: 'none',\n     borderRadius: 0,\n     flex: 1\n@@ -38,9 +35,8 @@\n export const ChatSessionInput = memo((props: ChatSessionInputProps) => {\n   const [editState, setEditState] = useState<boolean>(false)\n   const chat = findChat(props.id)\n   const inputEl = useRef<HTMLInputElement>(null)\n-  const activeChatId = useChatStore((state) => state.activeChatId)\n \n \n \n   const onEdit = (e: React.ChangeEvent<HTMLInputElement>) => {\n@@ -57,11 +53,9 @@\n   const onEditBlur = () => {\n     setEditState(false)\n   }\n \n-  const onChatClick = () => {\n-    changeActiveChatId(props.id)\n-  }\n+ \n   const { classes } = useStyles()\n   return (\n     <>\n       <Flex\n@@ -69,10 +63,9 @@\n         justify=\"space-between\"\n         align=\"center\"\n         direction=\"row\"\n         wrap=\"wrap\"\n-        className={activeChatId === props.id ? classes.chatItemActive : ''}\n-        onClick={onChatClick}\n+       \n       >\n         {\n           editState ?\n             <Input\n"
                },
                {
                    "date": 1681831622627,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,9 +1,9 @@\n /*\n  * @Author: Allen OYang\n  * @Email:  allenwill211@gmail.com\n  * @Date: 2023-04-18 17:34:12\n- * @LastEditTime: 2023-04-18 19:10:20\n+ * @LastEditTime: 2023-04-18 23:27:02\n  * @LastEditors: Allen OYang allenwill211@gmail.com\n  * @FilePath: /speak-gpt/src/components/ChatSessionInput.tsx\n  */\n import {\n@@ -56,33 +56,33 @@\n \n  \n   const { classes } = useStyles()\n   return (\n-    <>\n-      <Flex\n-        gap=\"md\"\n-        justify=\"space-between\"\n-        align=\"center\"\n-        direction=\"row\"\n-        wrap=\"wrap\"\n+    // <>\n+    //   <Flex\n+    //     gap=\"md\"\n+    //     justify=\"space-between\"\n+    //     align=\"center\"\n+    //     direction=\"row\"\n+    //     wrap=\"wrap\"\n        \n-      >\n-        {\n-          editState ?\n-            <Input\n-              ref={inputEl}\n-              onChange={onEdit}\n-              value={chat?.title || ''}\n-              onBlur={onEditBlur}\n-              size=\"xs\"\n-              className={classes.editInput}\n-            />\n-            :\n-            <Text size=\"xs\">{chat?.title || ''}</Text>\n-        }\n-        <ActionIcon>\n-          <IconEdit onClick={onEditClick} size=\"1.125rem\" />\n-        </ActionIcon>\n-      </Flex>\n-    </>\n+    //   >\n+    //     {\n+    //       editState ?\n+    //         <Input\n+    //           ref={inputEl}\n+    //           onChange={onEdit}\n+    //           value={chat?.title || ''}\n+    //           onBlur={onEditBlur}\n+    //           size=\"xs\"\n+    //           className={classes.editInput}\n+    //         />\n+    //         :\n+    //         <Text size=\"xs\">{chat?.title || ''}</Text>\n+    //     }\n+    //     <ActionIcon>\n+    //       <IconEdit onClick={onEditClick} size=\"1.125rem\" />\n+    //     </ActionIcon>\n+    //   </Flex>\n+    // </>\n   )\n })\n"
                },
                {
                    "date": 1681831634163,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -56,8 +56,9 @@\n \n  \n   const { classes } = useStyles()\n   return (\n+    <></>\n     // <>\n     //   <Flex\n     //     gap=\"md\"\n     //     justify=\"space-between\"\n"
                },
                {
                    "date": 1681831657277,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,9 +1,9 @@\n /*\n  * @Author: Allen OYang\n  * @Email:  allenwill211@gmail.com\n  * @Date: 2023-04-18 17:34:12\n- * @LastEditTime: 2023-04-18 23:27:02\n+ * @LastEditTime: 2023-04-18 19:10:20\n  * @LastEditors: Allen OYang allenwill211@gmail.com\n  * @FilePath: /speak-gpt/src/components/ChatSessionInput.tsx\n  */\n import {\n@@ -56,34 +56,33 @@\n \n  \n   const { classes } = useStyles()\n   return (\n-    <></>\n-    // <>\n-    //   <Flex\n-    //     gap=\"md\"\n-    //     justify=\"space-between\"\n-    //     align=\"center\"\n-    //     direction=\"row\"\n-    //     wrap=\"wrap\"\n+    <>\n+      <Flex\n+        gap=\"md\"\n+        justify=\"space-between\"\n+        align=\"center\"\n+        direction=\"row\"\n+        wrap=\"wrap\"\n        \n-    //   >\n-    //     {\n-    //       editState ?\n-    //         <Input\n-    //           ref={inputEl}\n-    //           onChange={onEdit}\n-    //           value={chat?.title || ''}\n-    //           onBlur={onEditBlur}\n-    //           size=\"xs\"\n-    //           className={classes.editInput}\n-    //         />\n-    //         :\n-    //         <Text size=\"xs\">{chat?.title || ''}</Text>\n-    //     }\n-    //     <ActionIcon>\n-    //       <IconEdit onClick={onEditClick} size=\"1.125rem\" />\n-    //     </ActionIcon>\n-    //   </Flex>\n-    // </>\n+      >\n+        {\n+          editState ?\n+            <Input\n+              ref={inputEl}\n+              onChange={onEdit}\n+              value={chat?.title || ''}\n+              onBlur={onEditBlur}\n+              size=\"xs\"\n+              className={classes.editInput}\n+            />\n+            :\n+            <Text size=\"xs\">{chat?.title || ''}</Text>\n+        }\n+        <ActionIcon>\n+          <IconEdit onClick={onEditClick} size=\"1.125rem\" />\n+        </ActionIcon>\n+      </Flex>\n+    </>\n   )\n })\n"
                },
                {
                    "date": 1681833728423,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,9 +1,9 @@\n /*\n  * @Author: Allen OYang\n  * @Email:  allenwill211@gmail.com\n  * @Date: 2023-04-18 17:34:12\n- * @LastEditTime: 2023-04-18 19:10:20\n+ * @LastEditTime: 2023-04-19 00:02:08\n  * @LastEditors: Allen OYang allenwill211@gmail.com\n  * @FilePath: /speak-gpt/src/components/ChatSessionInput.tsx\n  */\n import {\n@@ -76,9 +76,9 @@\n               size=\"xs\"\n               className={classes.editInput}\n             />\n             :\n-            <Text size=\"xs\">{chat?.title || ''}</Text>\n+            <Text  truncate size=\"xs\">{chat?.title || ''}</Text>\n         }\n         <ActionIcon>\n           <IconEdit onClick={onEditClick} size=\"1.125rem\" />\n         </ActionIcon>\n"
                },
                {
                    "date": 1681833767650,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -14,18 +14,18 @@\n   createStyles\n } from \"@mantine/core\";\n import { IconEdit } from \"@tabler/icons-react\";\n import { useState, useRef, memo } from \"react\";\n-import { findChat,  changeChat } from '@/stores/ChatAction'\n+import { findChat, changeChat } from '@/stores/ChatAction'\n \n \n interface ChatSessionInputProps {\n   title: string;\n   id: string;\n }\n \n const useStyles = createStyles((theme) => ({\n- \n+\n   editInput: {\n     border: 'none',\n     borderRadius: 0,\n     flex: 1\n@@ -53,9 +53,9 @@\n   const onEditBlur = () => {\n     setEditState(false)\n   }\n \n- \n+\n   const { classes } = useStyles()\n   return (\n     <>\n       <Flex\n@@ -63,9 +63,9 @@\n         justify=\"space-between\"\n         align=\"center\"\n         direction=\"row\"\n         wrap=\"wrap\"\n-       \n+\n       >\n         {\n           editState ?\n             <Input\n@@ -76,9 +76,11 @@\n               size=\"xs\"\n               className={classes.editInput}\n             />\n             :\n-            <Text  truncate size=\"xs\">{chat?.title || ''}</Text>\n+            <Text\n+              sx={() => { return { flex: 1 } }}\n+              truncate size=\"xs\">{chat?.title || ''}</Text>\n         }\n         <ActionIcon>\n           <IconEdit onClick={onEditClick} size=\"1.125rem\" />\n         </ActionIcon>\n"
                },
                {
                    "date": 1681833890273,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,18 +1,19 @@\n /*\n  * @Author: Allen OYang\n  * @Email:  allenwill211@gmail.com\n  * @Date: 2023-04-18 17:34:12\n- * @LastEditTime: 2023-04-19 00:02:08\n+ * @LastEditTime: 2023-04-19 00:04:50\n  * @LastEditors: Allen OYang allenwill211@gmail.com\n  * @FilePath: /speak-gpt/src/components/ChatSessionInput.tsx\n  */\n import {\n   Input,\n   Text,\n   Flex,\n   ActionIcon,\n-  createStyles\n+  createStyles,\n+  Tooltip\n } from \"@mantine/core\";\n import { IconEdit } from \"@tabler/icons-react\";\n import { useState, useRef, memo } from \"react\";\n import { findChat, changeChat } from '@/stores/ChatAction'\n@@ -22,16 +23,9 @@\n   title: string;\n   id: string;\n }\n \n-const useStyles = createStyles((theme) => ({\n \n-  editInput: {\n-    border: 'none',\n-    borderRadius: 0,\n-    flex: 1\n-  }\n-}));\n \n export const ChatSessionInput = memo((props: ChatSessionInputProps) => {\n   const [editState, setEditState] = useState<boolean>(false)\n   const chat = findChat(props.id)\n@@ -54,9 +48,8 @@\n     setEditState(false)\n   }\n \n \n-  const { classes } = useStyles()\n   return (\n     <>\n       <Flex\n         gap=\"md\"\n@@ -73,15 +66,23 @@\n               onChange={onEdit}\n               value={chat?.title || ''}\n               onBlur={onEditBlur}\n               size=\"xs\"\n-              className={classes.editInput}\n+              sx={() => ({\n+                border: 'none',\n+                borderRadius: 0,\n+                flex: 1\n+              })}\n             />\n             :\n-            <Text\n-              sx={() => { return { flex: 1 } }}\n-              truncate size=\"xs\">{chat?.title || ''}</Text>\n+            <Tooltip label=\"Tooltip\">\n+              <Text\n+                sx={() => ({ flex: 1 })}\n+                truncate size=\"xs\">{chat?.title || ''}</Text>\n+            </Tooltip>\n         }\n+\n+\n         <ActionIcon>\n           <IconEdit onClick={onEditClick} size=\"1.125rem\" />\n         </ActionIcon>\n       </Flex>\n"
                },
                {
                    "date": 1681833928503,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -30,10 +30,8 @@\n   const [editState, setEditState] = useState<boolean>(false)\n   const chat = findChat(props.id)\n   const inputEl = useRef<HTMLInputElement>(null)\n \n-\n-\n   const onEdit = (e: React.ChangeEvent<HTMLInputElement>) => {\n     changeChat(props.id, { title: e.target.value })\n   }\n \n@@ -73,9 +71,9 @@\n                 flex: 1\n               })}\n             />\n             :\n-            <Tooltip label=\"Tooltip\">\n+            <Tooltip label={chat?.title}>\n               <Text\n                 sx={() => ({ flex: 1 })}\n                 truncate size=\"xs\">{chat?.title || ''}</Text>\n             </Tooltip>\n"
                },
                {
                    "date": 1681833984961,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,9 +1,9 @@\n /*\n  * @Author: Allen OYang\n  * @Email:  allenwill211@gmail.com\n  * @Date: 2023-04-18 17:34:12\n- * @LastEditTime: 2023-04-19 00:04:50\n+ * @LastEditTime: 2023-04-19 00:06:24\n  * @LastEditors: Allen OYang allenwill211@gmail.com\n  * @FilePath: /speak-gpt/src/components/ChatSessionInput.tsx\n  */\n import {\n@@ -71,9 +71,12 @@\n                 flex: 1\n               })}\n             />\n             :\n-            <Tooltip label={chat?.title}>\n+            <Tooltip\n+              position=\"top-start\"\n+              withArrow\n+              label={chat?.title}>\n               <Text\n                 sx={() => ({ flex: 1 })}\n                 truncate size=\"xs\">{chat?.title || ''}</Text>\n             </Tooltip>\n"
                },
                {
                    "date": 1681834454869,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,9 +1,9 @@\n /*\n  * @Author: Allen OYang\n  * @Email:  allenwill211@gmail.com\n  * @Date: 2023-04-18 17:34:12\n- * @LastEditTime: 2023-04-19 00:06:24\n+ * @LastEditTime: 2023-04-19 00:14:13\n  * @LastEditors: Allen OYang allenwill211@gmail.com\n  * @FilePath: /speak-gpt/src/components/ChatSessionInput.tsx\n  */\n import {\n@@ -11,11 +11,16 @@\n   Text,\n   Flex,\n   ActionIcon,\n   createStyles,\n-  Tooltip\n+  Tooltip,\n+  Group,\n+  CloseButton\n } from \"@mantine/core\";\n-import { IconEdit } from \"@tabler/icons-react\";\n+import { \n+  IconEdit,\n+  // IconClose\n+ } from \"@tabler/icons-react\";\n import { useState, useRef, memo } from \"react\";\n import { findChat, changeChat } from '@/stores/ChatAction'\n \n \n@@ -81,12 +86,19 @@\n                 truncate size=\"xs\">{chat?.title || ''}</Text>\n             </Tooltip>\n         }\n \n+        <Group>\n+          <ActionIcon>\n+            <IconEdit onClick={onEditClick} size=\"1.125rem\" />\n+          </ActionIcon>\n \n-        <ActionIcon>\n-          <IconEdit onClick={onEditClick} size=\"1.125rem\" />\n-        </ActionIcon>\n+          <ActionIcon>\n+            {/* <IconClose onClick={onEditClick} size=\"1.125rem\" /> */}\n+            <CloseButton aria-label=\"Close modal\" />\n+          </ActionIcon>\n+\n+        </Group>\n       </Flex>\n     </>\n   )\n })\n"
                },
                {
                    "date": 1681834487381,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -86,9 +86,9 @@\n                 truncate size=\"xs\">{chat?.title || ''}</Text>\n             </Tooltip>\n         }\n \n-        <Group>\n+        <Group orientation=\"vertical\">\n           <ActionIcon>\n             <IconEdit onClick={onEditClick} size=\"1.125rem\" />\n           </ActionIcon>\n \n"
                },
                {
                    "date": 1681834598220,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,9 +1,9 @@\n /*\n  * @Author: Allen OYang\n  * @Email:  allenwill211@gmail.com\n  * @Date: 2023-04-18 17:34:12\n- * @LastEditTime: 2023-04-19 00:14:13\n+ * @LastEditTime: 2023-04-19 00:16:38\n  * @LastEditors: Allen OYang allenwill211@gmail.com\n  * @FilePath: /speak-gpt/src/components/ChatSessionInput.tsx\n  */\n import {\n@@ -15,12 +15,12 @@\n   Tooltip,\n   Group,\n   CloseButton\n } from \"@mantine/core\";\n-import { \n+import {\n   IconEdit,\n   // IconClose\n- } from \"@tabler/icons-react\";\n+} from \"@tabler/icons-react\";\n import { useState, useRef, memo } from \"react\";\n import { findChat, changeChat } from '@/stores/ChatAction'\n \n \n@@ -79,25 +79,22 @@\n             :\n             <Tooltip\n               position=\"top-start\"\n               withArrow\n-              label={chat?.title}>\n+              onClick={onEditClick}\n+              label={chat?.title}\n+            >\n               <Text\n                 sx={() => ({ flex: 1 })}\n                 truncate size=\"xs\">{chat?.title || ''}</Text>\n             </Tooltip>\n         }\n \n-        <Group orientation=\"vertical\">\n-          <ActionIcon>\n+        <Group>\n+          {/* <ActionIcon>\n             <IconEdit onClick={onEditClick} size=\"1.125rem\" />\n-          </ActionIcon>\n-\n-          <ActionIcon>\n-            {/* <IconClose onClick={onEditClick} size=\"1.125rem\" /> */}\n-            <CloseButton aria-label=\"Close modal\" />\n-          </ActionIcon>\n-\n+          </ActionIcon> */}\n+          <CloseButton />\n         </Group>\n       </Flex>\n     </>\n   )\n"
                },
                {
                    "date": 1681834616397,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -92,9 +92,9 @@\n         <Group>\n           {/* <ActionIcon>\n             <IconEdit onClick={onEditClick} size=\"1.125rem\" />\n           </ActionIcon> */}\n-          <CloseButton />\n+          <CloseButton  size=\"1.125rem\" />\n         </Group>\n       </Flex>\n     </>\n   )\n"
                },
                {
                    "date": 1681834626737,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -92,9 +92,9 @@\n         <Group>\n           {/* <ActionIcon>\n             <IconEdit onClick={onEditClick} size=\"1.125rem\" />\n           </ActionIcon> */}\n-          <CloseButton  size=\"1.125rem\" />\n+          <CloseButton  />\n         </Group>\n       </Flex>\n     </>\n   )\n"
                },
                {
                    "date": 1681834655709,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -84,17 +84,19 @@\n               label={chat?.title}\n             >\n               <Text\n                 sx={() => ({ flex: 1 })}\n-                truncate size=\"xs\">{chat?.title || ''}</Text>\n+                truncate\n+                size=\"1.125rem\"\n+              >{chat?.title || ''}</Text>\n             </Tooltip>\n         }\n \n         <Group>\n           {/* <ActionIcon>\n             <IconEdit onClick={onEditClick} size=\"1.125rem\" />\n           </ActionIcon> */}\n-          <CloseButton  />\n+          <CloseButton />\n         </Group>\n       </Flex>\n     </>\n   )\n"
                },
                {
                    "date": 1681834662813,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,9 +1,9 @@\n /*\n  * @Author: Allen OYang\n  * @Email:  allenwill211@gmail.com\n  * @Date: 2023-04-18 17:34:12\n- * @LastEditTime: 2023-04-19 00:16:38\n+ * @LastEditTime: 2023-04-19 00:17:42\n  * @LastEditors: Allen OYang allenwill211@gmail.com\n  * @FilePath: /speak-gpt/src/components/ChatSessionInput.tsx\n  */\n import {\n@@ -85,9 +85,9 @@\n             >\n               <Text\n                 sx={() => ({ flex: 1 })}\n                 truncate\n-                size=\"1.125rem\"\n+                size=\"xs\"\n               >{chat?.title || ''}</Text>\n             </Tooltip>\n         }\n \n"
                },
                {
                    "date": 1681834675878,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -94,9 +94,9 @@\n         <Group>\n           {/* <ActionIcon>\n             <IconEdit onClick={onEditClick} size=\"1.125rem\" />\n           </ActionIcon> */}\n-          <CloseButton />\n+          <CloseButton   size=\"xs\" />\n         </Group>\n       </Flex>\n     </>\n   )\n"
                },
                {
                    "date": 1681834730009,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,9 +1,9 @@\n /*\n  * @Author: Allen OYang\n  * @Email:  allenwill211@gmail.com\n  * @Date: 2023-04-18 17:34:12\n- * @LastEditTime: 2023-04-19 00:17:42\n+ * @LastEditTime: 2023-04-19 00:18:49\n  * @LastEditors: Allen OYang allenwill211@gmail.com\n  * @FilePath: /speak-gpt/src/components/ChatSessionInput.tsx\n  */\n import {\n@@ -72,9 +72,10 @@\n               size=\"xs\"\n               sx={() => ({\n                 border: 'none',\n                 borderRadius: 0,\n-                flex: 1\n+                flex: 1,\n+                height: '1.5rem',\n               })}\n             />\n             :\n             <Tooltip\n"
                },
                {
                    "date": 1681834750936,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,9 +1,9 @@\n /*\n  * @Author: Allen OYang\n  * @Email:  allenwill211@gmail.com\n  * @Date: 2023-04-18 17:34:12\n- * @LastEditTime: 2023-04-19 00:18:49\n+ * @LastEditTime: 2023-04-19 00:17:42\n  * @LastEditors: Allen OYang allenwill211@gmail.com\n  * @FilePath: /speak-gpt/src/components/ChatSessionInput.tsx\n  */\n import {\n@@ -72,10 +72,9 @@\n               size=\"xs\"\n               sx={() => ({\n                 border: 'none',\n                 borderRadius: 0,\n-                flex: 1,\n-                height: '1.5rem',\n+                flex: 1\n               })}\n             />\n             :\n             <Tooltip\n"
                },
                {
                    "date": 1681834800001,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -20,9 +20,9 @@\n   IconEdit,\n   // IconClose\n } from \"@tabler/icons-react\";\n import { useState, useRef, memo } from \"react\";\n-import { findChat, changeChat } from '@/stores/ChatAction'\n+import { findChat, deleteChat, changeChat } from '@/stores/ChatAction'\n \n \n interface ChatSessionInputProps {\n   title: string;\n@@ -94,9 +94,9 @@\n         <Group>\n           {/* <ActionIcon>\n             <IconEdit onClick={onEditClick} size=\"1.125rem\" />\n           </ActionIcon> */}\n-          <CloseButton   size=\"xs\" />\n+          <CloseButton  onClick={onEditClick} size=\"xs\" />\n         </Group>\n       </Flex>\n     </>\n   )\n"
                },
                {
                    "date": 1681834838078,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -94,9 +94,12 @@\n         <Group>\n           {/* <ActionIcon>\n             <IconEdit onClick={onEditClick} size=\"1.125rem\" />\n           </ActionIcon> */}\n-          <CloseButton  onClick={onEditClick} size=\"xs\" />\n+          <CloseButton  onClick={(e) => {\n+            e.stopPropagation()\n+            onEditClick()\n+          }} size=\"xs\" />\n         </Group>\n       </Flex>\n     </>\n   )\n"
                },
                {
                    "date": 1681834863543,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,9 +1,9 @@\n /*\n  * @Author: Allen OYang\n  * @Email:  allenwill211@gmail.com\n  * @Date: 2023-04-18 17:34:12\n- * @LastEditTime: 2023-04-19 00:17:42\n+ * @LastEditTime: 2023-04-19 00:21:03\n  * @LastEditors: Allen OYang allenwill211@gmail.com\n  * @FilePath: /speak-gpt/src/components/ChatSessionInput.tsx\n  */\n import {\n@@ -90,17 +90,15 @@\n               >{chat?.title || ''}</Text>\n             </Tooltip>\n         }\n \n-        <Group>\n           {/* <ActionIcon>\n             <IconEdit onClick={onEditClick} size=\"1.125rem\" />\n           </ActionIcon> */}\n           <CloseButton  onClick={(e) => {\n             e.stopPropagation()\n             onEditClick()\n           }} size=\"xs\" />\n-        </Group>\n       </Flex>\n     </>\n   )\n })\n"
                },
                {
                    "date": 1681834874980,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -90,15 +90,15 @@\n               >{chat?.title || ''}</Text>\n             </Tooltip>\n         }\n \n-          {/* <ActionIcon>\n+          <ActionIcon>\n             <IconEdit onClick={onEditClick} size=\"1.125rem\" />\n-          </ActionIcon> */}\n-          <CloseButton  onClick={(e) => {\n+          </ActionIcon>\n+          {/* <CloseButton  onClick={(e) => {\n             e.stopPropagation()\n             onEditClick()\n-          }} size=\"xs\" />\n+          }} size=\"xs\" /> */}\n       </Flex>\n     </>\n   )\n })\n"
                },
                {
                    "date": 1681834940446,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,9 +1,9 @@\n /*\n  * @Author: Allen OYang\n  * @Email:  allenwill211@gmail.com\n  * @Date: 2023-04-18 17:34:12\n- * @LastEditTime: 2023-04-19 00:21:03\n+ * @LastEditTime: 2023-04-19 00:22:19\n  * @LastEditors: Allen OYang allenwill211@gmail.com\n  * @FilePath: /speak-gpt/src/components/ChatSessionInput.tsx\n  */\n import {\n@@ -93,12 +93,12 @@\n \n           <ActionIcon>\n             <IconEdit onClick={onEditClick} size=\"1.125rem\" />\n           </ActionIcon>\n-          {/* <CloseButton  onClick={(e) => {\n+          <CloseButton  onClick={(e) => {\n             e.stopPropagation()\n             onEditClick()\n-          }} size=\"xs\" /> */}\n+          }} size=\"xs\" />\n       </Flex>\n     </>\n   )\n })\n"
                },
                {
                    "date": 1681834968028,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -90,15 +90,17 @@\n               >{chat?.title || ''}</Text>\n             </Tooltip>\n         }\n \n-          <ActionIcon>\n+        {/* <ActionIcon>\n             <IconEdit onClick={onEditClick} size=\"1.125rem\" />\n-          </ActionIcon>\n-          <CloseButton  onClick={(e) => {\n-            e.stopPropagation()\n-            onEditClick()\n-          }} size=\"xs\" />\n+          </ActionIcon> */}\n+        <CloseButton onClick={(e) => {\n+          e.stopPropagation()\n+          onEditClick()\n+        }} \n+        size=\"1.125rem\" \n+        />\n       </Flex>\n     </>\n   )\n })\n"
                },
                {
                    "date": 1681834976371,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -93,13 +93,14 @@\n \n         {/* <ActionIcon>\n             <IconEdit onClick={onEditClick} size=\"1.125rem\" />\n           </ActionIcon> */}\n-        <CloseButton onClick={(e) => {\n+        <CloseButton \n+          size=\"1.125rem\"\n+        onClick={(e) => {\n           e.stopPropagation()\n           onEditClick()\n-        }} \n-        size=\"1.125rem\" \n+        }}\n         />\n       </Flex>\n     </>\n   )\n"
                },
                {
                    "date": 1681835003989,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,9 +1,9 @@\n /*\n  * @Author: Allen OYang\n  * @Email:  allenwill211@gmail.com\n  * @Date: 2023-04-18 17:34:12\n- * @LastEditTime: 2023-04-19 00:22:19\n+ * @LastEditTime: 2023-04-19 00:23:23\n  * @LastEditors: Allen OYang allenwill211@gmail.com\n  * @FilePath: /speak-gpt/src/components/ChatSessionInput.tsx\n  */\n import {\n@@ -93,14 +93,14 @@\n \n         {/* <ActionIcon>\n             <IconEdit onClick={onEditClick} size=\"1.125rem\" />\n           </ActionIcon> */}\n-        <CloseButton \n-          size=\"1.125rem\"\n-        onClick={(e) => {\n-          e.stopPropagation()\n-          onEditClick()\n-        }}\n+        <CloseButton\n+          size=\"xl\" iconSize={20}\n+          onClick={(e) => {\n+            e.stopPropagation()\n+            onEditClick()\n+          }}\n         />\n       </Flex>\n     </>\n   )\n"
                },
                {
                    "date": 1681835013512,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -94,9 +94,10 @@\n         {/* <ActionIcon>\n             <IconEdit onClick={onEditClick} size=\"1.125rem\" />\n           </ActionIcon> */}\n         <CloseButton\n-          size=\"xl\" iconSize={20}\n+          size=\"xl\" \n+          iconSize=\"1.125rem\"\n           onClick={(e) => {\n             e.stopPropagation()\n             onEditClick()\n           }}\n"
                },
                {
                    "date": 1681835035007,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -90,13 +90,12 @@\n               >{chat?.title || ''}</Text>\n             </Tooltip>\n         }\n \n-        {/* <ActionIcon>\n+        <ActionIcon>\n             <IconEdit onClick={onEditClick} size=\"1.125rem\" />\n-          </ActionIcon> */}\n+          </ActionIcon>\n         <CloseButton\n-          size=\"xl\" \n           iconSize=\"1.125rem\"\n           onClick={(e) => {\n             e.stopPropagation()\n             onEditClick()\n"
                },
                {
                    "date": 1681835047607,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -0,0 +1,106 @@\n+/*\n+ * @Author: Allen OYang\n+ * @Email:  allenwill211@gmail.com\n+ * @Date: 2023-04-18 17:34:12\n+ * @LastEditTime: 2023-04-19 00:23:23\n+ * @LastEditors: Allen OYang allenwill211@gmail.com\n+ * @FilePath: /speak-gpt/src/components/ChatSessionInput.tsx\n+ */\n+import {\n+  Input,\n+  Text,\n+  Flex,\n+  ActionIcon,\n+  createStyles,\n+  Tooltip,\n+  Group,\n+  CloseButton\n+} from \"@mantine/core\";\n+import {\n+  IconEdit,\n+  // IconClose\n+} from \"@tabler/icons-react\";\n+import { useState, useRef, memo } from \"react\";\n+import { findChat, deleteChat, changeChat } from '@/stores/ChatAction'\n+\n+\n+interface ChatSessionInputProps {\n+  title: string;\n+  id: string;\n+}\n+\n+\n+\n+export const ChatSessionInput = memo((props: ChatSessionInputProps) => {\n+  const [editState, setEditState] = useState<boolean>(false)\n+  const chat = findChat(props.id)\n+  const inputEl = useRef<HTMLInputElement>(null)\n+\n+  const onEdit = (e: React.ChangeEvent<HTMLInputElement>) => {\n+    changeChat(props.id, { title: e.target.value })\n+  }\n+\n+  const onEditClick = () => {\n+    setEditState(true)\n+    setTimeout(() => {\n+      inputEl.current?.focus()\n+    }, 0)\n+  }\n+\n+  const onEditBlur = () => {\n+    setEditState(false)\n+  }\n+\n+\n+  return (\n+    <>\n+      <Flex\n+        gap=\"md\"\n+        justify=\"space-between\"\n+        align=\"center\"\n+        direction=\"row\"\n+        wrap=\"wrap\"\n+\n+      >\n+        {\n+          editState ?\n+            <Input\n+              ref={inputEl}\n+              onChange={onEdit}\n+              value={chat?.title || ''}\n+              onBlur={onEditBlur}\n+              size=\"xs\"\n+              sx={() => ({\n+                border: 'none',\n+                borderRadius: 0,\n+                flex: 1\n+              })}\n+            />\n+            :\n+            <Tooltip\n+              position=\"top-start\"\n+              withArrow\n+              label={chat?.title}\n+            >\n+              <Text\n+                sx={() => ({ flex: 1 })}\n+                truncate\n+                size=\"xs\"\n+              >{chat?.title || ''}</Text>\n+            </Tooltip>\n+        }\n+\n+        <ActionIcon>\n+            <IconEdit onClick={onEditClick} size=\"1.125rem\" />\n+          </ActionIcon>\n+        <CloseButton\n+          iconSize=\"1.125rem\"\n+          onClick={(e) => {\n+            e.stopPropagation()\n+            onEditClick()\n+          }}\n+        />\n+      </Flex>\n+    </>\n+  )\n+})\n"
                },
                {
                    "date": 1681835058036,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -85,8 +85,9 @@\n               <Text\n                 sx={() => ({ flex: 1 })}\n                 truncate\n                 size=\"xs\"\n+                onClick={onEditClick}\n               >{chat?.title || ''}</Text>\n             </Tooltip>\n         }\n \n@@ -103,111 +104,4 @@\n       </Flex>\n     </>\n   )\n })\n-/*\n- * @Author: Allen OYang\n- * @Email:  allenwill211@gmail.com\n- * @Date: 2023-04-18 17:34:12\n- * @LastEditTime: 2023-04-19 00:23:23\n- * @LastEditors: Allen OYang allenwill211@gmail.com\n- * @FilePath: /speak-gpt/src/components/ChatSessionInput.tsx\n- */\n-import {\n-  Input,\n-  Text,\n-  Flex,\n-  ActionIcon,\n-  createStyles,\n-  Tooltip,\n-  Group,\n-  CloseButton\n-} from \"@mantine/core\";\n-import {\n-  IconEdit,\n-  // IconClose\n-} from \"@tabler/icons-react\";\n-import { useState, useRef, memo } from \"react\";\n-import { findChat, deleteChat, changeChat } from '@/stores/ChatAction'\n-\n-\n-interface ChatSessionInputProps {\n-  title: string;\n-  id: string;\n-}\n-\n-\n-\n-export const ChatSessionInput = memo((props: ChatSessionInputProps) => {\n-  const [editState, setEditState] = useState<boolean>(false)\n-  const chat = findChat(props.id)\n-  const inputEl = useRef<HTMLInputElement>(null)\n-\n-  const onEdit = (e: React.ChangeEvent<HTMLInputElement>) => {\n-    changeChat(props.id, { title: e.target.value })\n-  }\n-\n-  const onEditClick = () => {\n-    setEditState(true)\n-    setTimeout(() => {\n-      inputEl.current?.focus()\n-    }, 0)\n-  }\n-\n-  const onEditBlur = () => {\n-    setEditState(false)\n-  }\n-\n-\n-  return (\n-    <>\n-      <Flex\n-        gap=\"md\"\n-        justify=\"space-between\"\n-        align=\"center\"\n-        direction=\"row\"\n-        wrap=\"wrap\"\n-\n-      >\n-        {\n-          editState ?\n-            <Input\n-              ref={inputEl}\n-              onChange={onEdit}\n-              value={chat?.title || ''}\n-              onBlur={onEditBlur}\n-              size=\"xs\"\n-              sx={() => ({\n-                border: 'none',\n-                borderRadius: 0,\n-                flex: 1\n-              })}\n-            />\n-            :\n-            <Tooltip\n-              position=\"top-start\"\n-              withArrow\n-              onClick={onEditClick}\n-              label={chat?.title}\n-            >\n-              <Text\n-                sx={() => ({ flex: 1 })}\n-                truncate\n-                size=\"xs\"\n-              >{chat?.title || ''}</Text>\n-            </Tooltip>\n-        }\n-\n-        <ActionIcon>\n-            <IconEdit onClick={onEditClick} size=\"1.125rem\" />\n-          </ActionIcon>\n-        <CloseButton\n-          iconSize=\"1.125rem\"\n-          onClick={(e) => {\n-            e.stopPropagation()\n-            onEditClick()\n-          }}\n-        />\n-      </Flex>\n-    </>\n-  )\n-})\n"
                },
                {
                    "date": 1681835087488,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,9 +1,9 @@\n /*\n  * @Author: Allen OYang\n  * @Email:  allenwill211@gmail.com\n  * @Date: 2023-04-18 17:34:12\n- * @LastEditTime: 2023-04-19 00:23:23\n+ * @LastEditTime: 2023-04-19 00:24:47\n  * @LastEditors: Allen OYang allenwill211@gmail.com\n  * @FilePath: /speak-gpt/src/components/ChatSessionInput.tsx\n  */\n import {\n@@ -93,15 +93,9 @@\n \n         <ActionIcon>\n             <IconEdit onClick={onEditClick} size=\"1.125rem\" />\n           </ActionIcon>\n-        <CloseButton\n-          iconSize=\"1.125rem\"\n-          onClick={(e) => {\n-            e.stopPropagation()\n-            onEditClick()\n-          }}\n-        />\n+  \n       </Flex>\n     </>\n   )\n })\n"
                },
                {
                    "date": 1681835333783,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,9 +1,9 @@\n /*\n  * @Author: Allen OYang\n  * @Email:  allenwill211@gmail.com\n  * @Date: 2023-04-18 17:34:12\n- * @LastEditTime: 2023-04-19 00:24:47\n+ * @LastEditTime: 2023-04-19 00:28:53\n  * @LastEditors: Allen OYang allenwill211@gmail.com\n  * @FilePath: /speak-gpt/src/components/ChatSessionInput.tsx\n  */\n import {\n@@ -91,11 +91,14 @@\n             </Tooltip>\n         }\n \n         <ActionIcon>\n-            <IconEdit onClick={onEditClick} size=\"1.125rem\" />\n-          </ActionIcon>\n-  \n+          <Text onClick={onEditClick}> x </Text>\n+          {/* <IconEdit onClick={onEditClick} size=\"1.125rem\" /> */}\n+        </ActionIcon>\n+\n+        <CloseButton title=\"Close popover\" size=\"xl\" iconSize={20} />\n+\n       </Flex>\n     </>\n   )\n })\n"
                },
                {
                    "date": 1681835394551,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,9 +1,9 @@\n /*\n  * @Author: Allen OYang\n  * @Email:  allenwill211@gmail.com\n  * @Date: 2023-04-18 17:34:12\n- * @LastEditTime: 2023-04-19 00:28:53\n+ * @LastEditTime: 2023-04-19 00:29:54\n  * @LastEditors: Allen OYang allenwill211@gmail.com\n  * @FilePath: /speak-gpt/src/components/ChatSessionInput.tsx\n  */\n import {\n@@ -95,9 +95,9 @@\n           <Text onClick={onEditClick}> x </Text>\n           {/* <IconEdit onClick={onEditClick} size=\"1.125rem\" /> */}\n         </ActionIcon>\n \n-        <CloseButton title=\"Close popover\" size=\"xl\" iconSize={20} />\n+        {/* <CloseButton title=\"Close popover\" size=\"xl\" iconSize={20} /> */}\n \n       </Flex>\n     </>\n   )\n"
                },
                {
                    "date": 1681835415901,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -91,9 +91,9 @@\n             </Tooltip>\n         }\n \n         <ActionIcon>\n-          <Text onClick={onEditClick}> x </Text>\n+          <Text onClick={() => deleteChat(props.id)}> x </Text>\n           {/* <IconEdit onClick={onEditClick} size=\"1.125rem\" /> */}\n         </ActionIcon>\n \n         {/* <CloseButton title=\"Close popover\" size=\"xl\" iconSize={20} /> */}\n"
                },
                {
                    "date": 1681835457661,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,9 +1,9 @@\n /*\n  * @Author: Allen OYang\n  * @Email:  allenwill211@gmail.com\n  * @Date: 2023-04-18 17:34:12\n- * @LastEditTime: 2023-04-19 00:29:54\n+ * @LastEditTime: 2023-04-19 00:30:57\n  * @LastEditors: Allen OYang allenwill211@gmail.com\n  * @FilePath: /speak-gpt/src/components/ChatSessionInput.tsx\n  */\n import {\n@@ -90,9 +90,9 @@\n               >{chat?.title || ''}</Text>\n             </Tooltip>\n         }\n \n-        <ActionIcon>\n+        <ActionIcon radius=\"xl\" variant=\"default\">\n           <Text onClick={() => deleteChat(props.id)}> x </Text>\n           {/* <IconEdit onClick={onEditClick} size=\"1.125rem\" /> */}\n         </ActionIcon>\n \n"
                },
                {
                    "date": 1681835481902,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -90,9 +90,9 @@\n               >{chat?.title || ''}</Text>\n             </Tooltip>\n         }\n \n-        <ActionIcon radius=\"xl\" variant=\"default\">\n+        <ActionIcon   size=\"xs\" radius=\"xl\" variant=\"default\">\n           <Text onClick={() => deleteChat(props.id)}> x </Text>\n           {/* <IconEdit onClick={onEditClick} size=\"1.125rem\" /> */}\n         </ActionIcon>\n \n"
                },
                {
                    "date": 1681835496853,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -90,10 +90,10 @@\n               >{chat?.title || ''}</Text>\n             </Tooltip>\n         }\n \n-        <ActionIcon   size=\"xs\" radius=\"xl\" variant=\"default\">\n-          <Text onClick={() => deleteChat(props.id)}> x </Text>\n+        <ActionIcon size=\"xs\" radius=\"xl\" variant=\"default\">\n+          <Text  size=\"xs\" onClick={() => deleteChat(props.id)}> x </Text>\n           {/* <IconEdit onClick={onEditClick} size=\"1.125rem\" /> */}\n         </ActionIcon>\n \n         {/* <CloseButton title=\"Close popover\" size=\"xl\" iconSize={20} /> */}\n"
                },
                {
                    "date": 1681835941755,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,9 +1,9 @@\n /*\n  * @Author: Allen OYang\n  * @Email:  allenwill211@gmail.com\n  * @Date: 2023-04-18 17:34:12\n- * @LastEditTime: 2023-04-19 00:30:57\n+ * @LastEditTime: 2023-04-19 00:39:01\n  * @LastEditors: Allen OYang allenwill211@gmail.com\n  * @FilePath: /speak-gpt/src/components/ChatSessionInput.tsx\n  */\n import {\n@@ -17,9 +17,9 @@\n   CloseButton\n } from \"@mantine/core\";\n import {\n   IconEdit,\n-  // IconClose\n+  IconTrash\n } from \"@tabler/icons-react\";\n import { useState, useRef, memo } from \"react\";\n import { findChat, deleteChat, changeChat } from '@/stores/ChatAction'\n \n@@ -85,20 +85,24 @@\n               <Text\n                 sx={() => ({ flex: 1 })}\n                 truncate\n                 size=\"xs\"\n-                onClick={onEditClick}\n               >{chat?.title || ''}</Text>\n             </Tooltip>\n         }\n \n-        <ActionIcon size=\"xs\" radius=\"xl\" variant=\"default\">\n-          <Text  size=\"xs\" onClick={() => deleteChat(props.id)}> x </Text>\n-          {/* <IconEdit onClick={onEditClick} size=\"1.125rem\" /> */}\n-        </ActionIcon>\n+        <Group>\n+          <ActionIcon size=\"xs\" radius=\"xl\" variant=\"default\">\n+            <IconEdit onClick={onEditClick} size=\"1.125rem\" />\n+          </ActionIcon>\n \n-        {/* <CloseButton title=\"Close popover\" size=\"xl\" iconSize={20} /> */}\n+          <ActionIcon size=\"xs\" radius=\"xl\" variant=\"default\">\n+            <IconTrash onClick={onEditClick} size=\"1.125rem\" />\n+          </ActionIcon>\n+        </Group>\n \n+\n+\n       </Flex>\n     </>\n   )\n })\n"
                },
                {
                    "date": 1681836074535,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,9 +1,9 @@\n /*\n  * @Author: Allen OYang\n  * @Email:  allenwill211@gmail.com\n  * @Date: 2023-04-18 17:34:12\n- * @LastEditTime: 2023-04-19 00:39:01\n+ * @LastEditTime: 2023-04-19 00:41:13\n  * @LastEditors: Allen OYang allenwill211@gmail.com\n  * @FilePath: /speak-gpt/src/components/ChatSessionInput.tsx\n  */\n import {\n@@ -90,13 +90,13 @@\n             </Tooltip>\n         }\n \n         <Group>\n-          <ActionIcon size=\"xs\" radius=\"xl\" variant=\"default\">\n+          <ActionIcon size=\"xs\" radius=\"md\" variant=\"default\">\n             <IconEdit onClick={onEditClick} size=\"1.125rem\" />\n           </ActionIcon>\n \n-          <ActionIcon size=\"xs\" radius=\"xl\" variant=\"default\">\n+          <ActionIcon size=\"xs\" radius=\"md\" variant=\"default\">\n             <IconTrash onClick={onEditClick} size=\"1.125rem\" />\n           </ActionIcon>\n         </Group>\n \n"
                },
                {
                    "date": 1681836086922,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -91,9 +91,9 @@\n         }\n \n         <Group>\n           <ActionIcon size=\"xs\" radius=\"md\" variant=\"default\">\n-            <IconEdit onClick={onEditClick} size=\"1.125rem\" />\n+            <IconEdit onClick={onEditClick} size=\"xs\" />\n           </ActionIcon>\n \n           <ActionIcon size=\"xs\" radius=\"md\" variant=\"default\">\n             <IconTrash onClick={onEditClick} size=\"1.125rem\" />\n"
                },
                {
                    "date": 1681836108925,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -91,13 +91,13 @@\n         }\n \n         <Group>\n           <ActionIcon size=\"xs\" radius=\"md\" variant=\"default\">\n-            <IconEdit onClick={onEditClick} size=\"xs\" />\n+            <IconEdit onClick={onEditClick} size=\"1rem\" />\n           </ActionIcon>\n \n           <ActionIcon size=\"xs\" radius=\"md\" variant=\"default\">\n-            <IconTrash onClick={onEditClick} size=\"1.125rem\" />\n+            <IconTrash onClick={onEditClick} size=\"1rem\" />\n           </ActionIcon>\n         </Group>\n \n \n"
                },
                {
                    "date": 1681836152080,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,9 +1,9 @@\n /*\n  * @Author: Allen OYang\n  * @Email:  allenwill211@gmail.com\n  * @Date: 2023-04-18 17:34:12\n- * @LastEditTime: 2023-04-19 00:41:13\n+ * @LastEditTime: 2023-04-19 00:42:31\n  * @LastEditors: Allen OYang allenwill211@gmail.com\n  * @FilePath: /speak-gpt/src/components/ChatSessionInput.tsx\n  */\n import {\n@@ -91,13 +91,13 @@\n         }\n \n         <Group>\n           <ActionIcon size=\"xs\" radius=\"md\" variant=\"default\">\n-            <IconEdit onClick={onEditClick} size=\"1rem\" />\n+            <IconEdit onClick={onEditClick} size=\"0.75rem\" />\n           </ActionIcon>\n \n           <ActionIcon size=\"xs\" radius=\"md\" variant=\"default\">\n-            <IconTrash onClick={onEditClick} size=\"1rem\" />\n+            <IconTrash onClick={onEditClick} size=\"0.75rem\" />\n           </ActionIcon>\n         </Group>\n \n \n"
                },
                {
                    "date": 1681867231125,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,9 +1,9 @@\n /*\n  * @Author: Allen OYang\n  * @Email:  allenwill211@gmail.com\n  * @Date: 2023-04-18 17:34:12\n- * @LastEditTime: 2023-04-19 00:42:31\n+ * @LastEditTime: 2023-04-19 09:20:30\n  * @LastEditors: Allen OYang allenwill211@gmail.com\n  * @FilePath: /speak-gpt/src/components/ChatSessionInput.tsx\n  */\n import {\n@@ -39,8 +39,10 @@\n   const onEdit = (e: React.ChangeEvent<HTMLInputElement>) => {\n     changeChat(props.id, { title: e.target.value })\n   }\n \n+  console.log('props.id', props.id)\n+\n   const onEditClick = () => {\n     setEditState(true)\n     setTimeout(() => {\n       inputEl.current?.focus()\n"
                },
                {
                    "date": 1681867330042,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -19,9 +19,9 @@\n import {\n   IconEdit,\n   IconTrash\n } from \"@tabler/icons-react\";\n-import { useState, useRef, memo } from \"react\";\n+import { useState, useRef, memo, useMemo } from \"react\";\n import { findChat, deleteChat, changeChat } from '@/stores/ChatAction'\n \n \n interface ChatSessionInputProps {\n@@ -35,13 +35,17 @@\n   const [editState, setEditState] = useState<boolean>(false)\n   const chat = findChat(props.id)\n   const inputEl = useRef<HTMLInputElement>(null)\n \n+  const title = useMemo(() => {\n+    return chat?.title\n+  }, [chat?.title])\n+\n   const onEdit = (e: React.ChangeEvent<HTMLInputElement>) => {\n     changeChat(props.id, { title: e.target.value })\n   }\n \n-  console.log('props.id', props.id)\n+  \n \n   const onEditClick = () => {\n     setEditState(true)\n     setTimeout(() => {\n@@ -68,9 +72,9 @@\n           editState ?\n             <Input\n               ref={inputEl}\n               onChange={onEdit}\n-              value={chat?.title || ''}\n+              value={title || ''}\n               onBlur={onEditBlur}\n               size=\"xs\"\n               sx={() => ({\n                 border: 'none',\n@@ -81,15 +85,15 @@\n             :\n             <Tooltip\n               position=\"top-start\"\n               withArrow\n-              label={chat?.title}\n+              label={title}\n             >\n               <Text\n                 sx={() => ({ flex: 1 })}\n                 truncate\n                 size=\"xs\"\n-              >{chat?.title || ''}</Text>\n+              >{title || ''}</Text>\n             </Tooltip>\n         }\n \n         <Group>\n"
                },
                {
                    "date": 1681867433123,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,9 +1,9 @@\n /*\n  * @Author: Allen OYang\n  * @Email:  allenwill211@gmail.com\n  * @Date: 2023-04-18 17:34:12\n- * @LastEditTime: 2023-04-19 09:20:30\n+ * @LastEditTime: 2023-04-19 09:23:52\n  * @LastEditors: Allen OYang allenwill211@gmail.com\n  * @FilePath: /speak-gpt/src/components/ChatSessionInput.tsx\n  */\n import {\n@@ -73,9 +73,9 @@\n             <Input\n               ref={inputEl}\n               onChange={onEdit}\n               value={title || ''}\n-              onBlur={onEditBlur}\n+              // onBlur={onEditBlur}\n               size=\"xs\"\n               sx={() => ({\n                 border: 'none',\n                 borderRadius: 0,\n"
                },
                {
                    "date": 1681867630898,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,9 +1,9 @@\n /*\n  * @Author: Allen OYang\n  * @Email:  allenwill211@gmail.com\n  * @Date: 2023-04-18 17:34:12\n- * @LastEditTime: 2023-04-19 09:23:52\n+ * @LastEditTime: 2023-04-19 09:27:10\n  * @LastEditors: Allen OYang allenwill211@gmail.com\n  * @FilePath: /speak-gpt/src/components/ChatSessionInput.tsx\n  */\n import {\n@@ -71,11 +71,11 @@\n         {\n           editState ?\n             <Input\n               ref={inputEl}\n-              onChange={onEdit}\n-              value={title || ''}\n-              // onBlur={onEditBlur}\n+              // onChange={onEdit}\n+              // value={title || ''}\n+              onBlur={onEditBlur}\n               size=\"xs\"\n               sx={() => ({\n                 border: 'none',\n                 borderRadius: 0,\n"
                },
                {
                    "date": 1681867674616,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -34,9 +34,9 @@\n export const ChatSessionInput = memo((props: ChatSessionInputProps) => {\n   const [editState, setEditState] = useState<boolean>(false)\n   const chat = findChat(props.id)\n   const inputEl = useRef<HTMLInputElement>(null)\n-\n+  console.log('props', props.id)\n   const title = useMemo(() => {\n     return chat?.title\n   }, [chat?.title])\n \n"
                },
                {
                    "date": 1681867749110,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,9 +1,9 @@\n /*\n  * @Author: Allen OYang\n  * @Email:  allenwill211@gmail.com\n  * @Date: 2023-04-18 17:34:12\n- * @LastEditTime: 2023-04-19 09:27:10\n+ * @LastEditTime: 2023-04-19 09:29:08\n  * @LastEditors: Allen OYang allenwill211@gmail.com\n  * @FilePath: /speak-gpt/src/components/ChatSessionInput.tsx\n  */\n import {\n@@ -53,9 +53,11 @@\n     }, 0)\n   }\n \n   const onEditBlur = () => {\n+    changeChat(props.id, { title: inputEl.current?.value })\n     setEditState(false)\n+    \n   }\n \n \n   return (\n@@ -71,10 +73,9 @@\n         {\n           editState ?\n             <Input\n               ref={inputEl}\n-              // onChange={onEdit}\n-              // value={title || ''}\n+              defaultValue={title}\n               onBlur={onEditBlur}\n               size=\"xs\"\n               sx={() => ({\n                 border: 'none',\n"
                },
                {
                    "date": 1681867920561,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,9 +1,9 @@\n /*\n  * @Author: Allen OYang\n  * @Email:  allenwill211@gmail.com\n  * @Date: 2023-04-18 17:34:12\n- * @LastEditTime: 2023-04-19 09:29:08\n+ * @LastEditTime: 2023-04-19 09:32:00\n  * @LastEditors: Allen OYang allenwill211@gmail.com\n  * @FilePath: /speak-gpt/src/components/ChatSessionInput.tsx\n  */\n import {\n@@ -19,9 +19,9 @@\n import {\n   IconEdit,\n   IconTrash\n } from \"@tabler/icons-react\";\n-import { useState, useRef, memo, useMemo } from \"react\";\n+import { useState, useRef, memo, useMemo, useCallback } from \"react\";\n import { findChat, deleteChat, changeChat } from '@/stores/ChatAction'\n \n \n interface ChatSessionInputProps {\n@@ -34,31 +34,29 @@\n export const ChatSessionInput = memo((props: ChatSessionInputProps) => {\n   const [editState, setEditState] = useState<boolean>(false)\n   const chat = findChat(props.id)\n   const inputEl = useRef<HTMLInputElement>(null)\n-  console.log('props', props.id)\n   const title = useMemo(() => {\n     return chat?.title\n   }, [chat?.title])\n \n   const onEdit = (e: React.ChangeEvent<HTMLInputElement>) => {\n     changeChat(props.id, { title: e.target.value })\n   }\n \n-  \n \n+\n   const onEditClick = () => {\n     setEditState(true)\n     setTimeout(() => {\n       inputEl.current?.focus()\n     }, 0)\n   }\n \n-  const onEditBlur = () => {\n+  const onEditBlur = useCallback(() => {\n     changeChat(props.id, { title: inputEl.current?.value })\n     setEditState(false)\n-    \n-  }\n+  }, [props.id])\n \n \n   return (\n     <>\n"
                },
                {
                    "date": 1681867947756,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -34,8 +34,10 @@\n export const ChatSessionInput = memo((props: ChatSessionInputProps) => {\n   const [editState, setEditState] = useState<boolean>(false)\n   const chat = findChat(props.id)\n   const inputEl = useRef<HTMLInputElement>(null)\n+\n+  console.log('(props.id', props.id)\n   const title = useMemo(() => {\n     return chat?.title\n   }, [chat?.title])\n \n"
                },
                {
                    "date": 1681867964782,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -56,9 +56,9 @@\n \n   const onEditBlur = useCallback(() => {\n     changeChat(props.id, { title: inputEl.current?.value })\n     setEditState(false)\n-  }, [props.id])\n+  }, [])\n \n \n   return (\n     <>\n"
                },
                {
                    "date": 1681868128421,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -56,9 +56,9 @@\n \n   const onEditBlur = useCallback(() => {\n     changeChat(props.id, { title: inputEl.current?.value })\n     setEditState(false)\n-  }, [])\n+  }, [props.id])\n \n \n   return (\n     <>\n"
                },
                {
                    "date": 1681868630228,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,9 +1,9 @@\n /*\n  * @Author: Allen OYang\n  * @Email:  allenwill211@gmail.com\n  * @Date: 2023-04-18 17:34:12\n- * @LastEditTime: 2023-04-19 09:32:00\n+ * @LastEditTime: 2023-04-19 09:43:49\n  * @LastEditors: Allen OYang allenwill211@gmail.com\n  * @FilePath: /speak-gpt/src/components/ChatSessionInput.tsx\n  */\n import {\n@@ -35,9 +35,10 @@\n   const [editState, setEditState] = useState<boolean>(false)\n   const chat = findChat(props.id)\n   const inputEl = useRef<HTMLInputElement>(null)\n \n-  console.log('(props.id', props.id)\n+  console.log('props',  props)\n+\n   const title = useMemo(() => {\n     return chat?.title\n   }, [chat?.title])\n \n"
                },
                {
                    "date": 1681868764211,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,9 +1,9 @@\n /*\n  * @Author: Allen OYang\n  * @Email:  allenwill211@gmail.com\n  * @Date: 2023-04-18 17:34:12\n- * @LastEditTime: 2023-04-19 09:43:49\n+ * @LastEditTime: 2023-04-19 09:46:04\n  * @LastEditors: Allen OYang allenwill211@gmail.com\n  * @FilePath: /speak-gpt/src/components/ChatSessionInput.tsx\n  */\n import {\n@@ -32,16 +32,11 @@\n \n \n export const ChatSessionInput = memo((props: ChatSessionInputProps) => {\n   const [editState, setEditState] = useState<boolean>(false)\n-  const chat = findChat(props.id)\n   const inputEl = useRef<HTMLInputElement>(null)\n \n-  console.log('props',  props)\n \n-  const title = useMemo(() => {\n-    return chat?.title\n-  }, [chat?.title])\n \n   const onEdit = (e: React.ChangeEvent<HTMLInputElement>) => {\n     changeChat(props.id, { title: e.target.value })\n   }\n@@ -74,9 +69,9 @@\n         {\n           editState ?\n             <Input\n               ref={inputEl}\n-              defaultValue={title}\n+              defaultValue={props.title}\n               onBlur={onEditBlur}\n               size=\"xs\"\n               sx={() => ({\n                 border: 'none',\n@@ -87,15 +82,15 @@\n             :\n             <Tooltip\n               position=\"top-start\"\n               withArrow\n-              label={title}\n+              label={props.title}\n             >\n               <Text\n                 sx={() => ({ flex: 1 })}\n                 truncate\n                 size=\"xs\"\n-              >{title || ''}</Text>\n+              >{props.title || ''}</Text>\n             </Tooltip>\n         }\n \n         <Group>\n"
                },
                {
                    "date": 1681868782257,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -34,10 +34,10 @@\n export const ChatSessionInput = memo((props: ChatSessionInputProps) => {\n   const [editState, setEditState] = useState<boolean>(false)\n   const inputEl = useRef<HTMLInputElement>(null)\n \n+  console.log(props)\n \n-\n   const onEdit = (e: React.ChangeEvent<HTMLInputElement>) => {\n     changeChat(props.id, { title: e.target.value })\n   }\n \n"
                },
                {
                    "date": 1681868898929,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,9 +1,9 @@\n /*\n  * @Author: Allen OYang\n  * @Email:  allenwill211@gmail.com\n  * @Date: 2023-04-18 17:34:12\n- * @LastEditTime: 2023-04-19 09:46:04\n+ * @LastEditTime: 2023-04-19 09:48:18\n  * @LastEditors: Allen OYang allenwill211@gmail.com\n  * @FilePath: /speak-gpt/src/components/ChatSessionInput.tsx\n  */\n import {\n@@ -36,14 +36,9 @@\n   const inputEl = useRef<HTMLInputElement>(null)\n \n   console.log(props)\n \n-  const onEdit = (e: React.ChangeEvent<HTMLInputElement>) => {\n-    changeChat(props.id, { title: e.target.value })\n-  }\n \n-\n-\n   const onEditClick = () => {\n     setEditState(true)\n     setTimeout(() => {\n       inputEl.current?.focus()\n@@ -51,9 +46,9 @@\n   }\n \n   const onEditBlur = useCallback(() => {\n     changeChat(props.id, { title: inputEl.current?.value })\n-    setEditState(false)\n+    // setEditState(false)\n   }, [props.id])\n \n \n   return (\n"
                },
                {
                    "date": 1681869134985,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,9 +1,9 @@\n /*\n  * @Author: Allen OYang\n  * @Email:  allenwill211@gmail.com\n  * @Date: 2023-04-18 17:34:12\n- * @LastEditTime: 2023-04-19 09:48:18\n+ * @LastEditTime: 2023-04-19 09:52:14\n  * @LastEditors: Allen OYang allenwill211@gmail.com\n  * @FilePath: /speak-gpt/src/components/ChatSessionInput.tsx\n  */\n import {\n@@ -19,9 +19,9 @@\n import {\n   IconEdit,\n   IconTrash\n } from \"@tabler/icons-react\";\n-import { useState, useRef, memo, useMemo, useCallback } from \"react\";\n+import { useState, useRef, memo, useEffect, useCallback } from \"react\";\n import { findChat, deleteChat, changeChat } from '@/stores/ChatAction'\n \n \n interface ChatSessionInputProps {\n@@ -36,22 +36,29 @@\n   const inputEl = useRef<HTMLInputElement>(null)\n \n   console.log(props)\n \n+  useEffect(() => {\n+    setEditState(false)\n+  }, [props.title])\n \n   const onEditClick = () => {\n     setEditState(true)\n     setTimeout(() => {\n       inputEl.current?.focus()\n     }, 0)\n   }\n \n-  const onEditBlur = useCallback(() => {\n+  const onEditBlur = () => {\n     changeChat(props.id, { title: inputEl.current?.value })\n     // setEditState(false)\n-  }, [props.id])\n+  }\n \n+  const onDeleteClick = () => {\n+    deleteChat(props.id)\n+  }\n \n+\n   return (\n     <>\n       <Flex\n         gap=\"md\"\n@@ -93,9 +100,9 @@\n             <IconEdit onClick={onEditClick} size=\"0.75rem\" />\n           </ActionIcon>\n \n           <ActionIcon size=\"xs\" radius=\"md\" variant=\"default\">\n-            <IconTrash onClick={onEditClick} size=\"0.75rem\" />\n+            <IconTrash onClick={onDeleteClick} size=\"0.75rem\" />\n           </ActionIcon>\n         </Group>\n \n \n"
                },
                {
                    "date": 1681869182760,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -19,9 +19,9 @@\n import {\n   IconEdit,\n   IconTrash\n } from \"@tabler/icons-react\";\n-import { useState, useRef, memo, useEffect, useCallback } from \"react\";\n+import { useState, useRef, memo, useEffect, useMemo } from \"react\";\n import { findChat, deleteChat, changeChat } from '@/stores/ChatAction'\n \n \n interface ChatSessionInputProps {\n@@ -34,13 +34,18 @@\n export const ChatSessionInput = memo((props: ChatSessionInputProps) => {\n   const [editState, setEditState] = useState<boolean>(false)\n   const inputEl = useRef<HTMLInputElement>(null)\n \n+\n+  const title = useMemo(() => {\n+    return props.title\n+  }, [props.title])\n+\n   console.log(props)\n \n   useEffect(() => {\n     setEditState(false)\n-  }, [props.title])\n+  }, [title])\n \n   const onEditClick = () => {\n     setEditState(true)\n     setTimeout(() => {\n"
                },
                {
                    "date": 1681869208655,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,9 +1,9 @@\n /*\n  * @Author: Allen OYang\n  * @Email:  allenwill211@gmail.com\n  * @Date: 2023-04-18 17:34:12\n- * @LastEditTime: 2023-04-19 09:52:14\n+ * @LastEditTime: 2023-04-19 09:53:28\n  * @LastEditors: Allen OYang allenwill211@gmail.com\n  * @FilePath: /speak-gpt/src/components/ChatSessionInput.tsx\n  */\n import {\n@@ -19,9 +19,9 @@\n import {\n   IconEdit,\n   IconTrash\n } from \"@tabler/icons-react\";\n-import { useState, useRef, memo, useEffect, useMemo } from \"react\";\n+import { useState, useRef, memo, useMemo, useCallback } from \"react\";\n import { findChat, deleteChat, changeChat } from '@/stores/ChatAction'\n \n \n interface ChatSessionInputProps {\n@@ -34,34 +34,26 @@\n export const ChatSessionInput = memo((props: ChatSessionInputProps) => {\n   const [editState, setEditState] = useState<boolean>(false)\n   const inputEl = useRef<HTMLInputElement>(null)\n \n-\n-  const title = useMemo(() => {\n-    return props.title\n-  }, [props.title])\n-\n   console.log(props)\n \n-  useEffect(() => {\n-    setEditState(false)\n-  }, [title])\n \n   const onEditClick = () => {\n     setEditState(true)\n     setTimeout(() => {\n       inputEl.current?.focus()\n     }, 0)\n   }\n \n-  const onEditBlur = () => {\n+  const onEditBlur = useCallback(() => {\n     changeChat(props.id, { title: inputEl.current?.value })\n     // setEditState(false)\n-  }\n+  }, [props.id])\n \n-  const onDeleteClick = () => {\n+  const onDeleteClick = useCallback(() => {\n     deleteChat(props.id)\n-  }\n+  }, [props.id])\n \n \n   return (\n     <>\n"
                },
                {
                    "date": 1681869263194,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,9 +1,9 @@\n /*\n  * @Author: Allen OYang\n  * @Email:  allenwill211@gmail.com\n  * @Date: 2023-04-18 17:34:12\n- * @LastEditTime: 2023-04-19 09:53:28\n+ * @LastEditTime: 2023-04-19 09:46:04\n  * @LastEditors: Allen OYang allenwill211@gmail.com\n  * @FilePath: /speak-gpt/src/components/ChatSessionInput.tsx\n  */\n import {\n@@ -36,9 +36,14 @@\n   const inputEl = useRef<HTMLInputElement>(null)\n \n   console.log(props)\n \n+  const onEdit = (e: React.ChangeEvent<HTMLInputElement>) => {\n+    changeChat(props.id, { title: e.target.value })\n+  }\n \n+\n+\n   const onEditClick = () => {\n     setEditState(true)\n     setTimeout(() => {\n       inputEl.current?.focus()\n@@ -46,16 +51,12 @@\n   }\n \n   const onEditBlur = useCallback(() => {\n     changeChat(props.id, { title: inputEl.current?.value })\n-    // setEditState(false)\n+    setEditState(false)\n   }, [props.id])\n \n-  const onDeleteClick = useCallback(() => {\n-    deleteChat(props.id)\n-  }, [props.id])\n \n-\n   return (\n     <>\n       <Flex\n         gap=\"md\"\n@@ -97,9 +98,9 @@\n             <IconEdit onClick={onEditClick} size=\"0.75rem\" />\n           </ActionIcon>\n \n           <ActionIcon size=\"xs\" radius=\"md\" variant=\"default\">\n-            <IconTrash onClick={onDeleteClick} size=\"0.75rem\" />\n+            <IconTrash onClick={onEditClick} size=\"0.75rem\" />\n           </ActionIcon>\n         </Group>\n \n \n"
                },
                {
                    "date": 1681869326633,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,9 +1,9 @@\n /*\n  * @Author: Allen OYang\n  * @Email:  allenwill211@gmail.com\n  * @Date: 2023-04-18 17:34:12\n- * @LastEditTime: 2023-04-19 09:46:04\n+ * @LastEditTime: 2023-04-19 09:55:26\n  * @LastEditors: Allen OYang allenwill211@gmail.com\n  * @FilePath: /speak-gpt/src/components/ChatSessionInput.tsx\n  */\n import {\n@@ -19,9 +19,9 @@\n import {\n   IconEdit,\n   IconTrash\n } from \"@tabler/icons-react\";\n-import { useState, useRef, memo, useMemo, useCallback } from \"react\";\n+import { useState, useRef, memo, useMemo, useCallback, useEffect } from \"react\";\n import { findChat, deleteChat, changeChat } from '@/stores/ChatAction'\n \n \n interface ChatSessionInputProps {\n@@ -41,9 +41,13 @@\n     changeChat(props.id, { title: e.target.value })\n   }\n \n \n+  useEffect(() => {   \n+    setEditState(false)\n+  }, [props.title])\n \n+\n   const onEditClick = () => {\n     setEditState(true)\n     setTimeout(() => {\n       inputEl.current?.focus()\n@@ -51,9 +55,9 @@\n   }\n \n   const onEditBlur = useCallback(() => {\n     changeChat(props.id, { title: inputEl.current?.value })\n-    setEditState(false)\n+   \n   }, [props.id])\n \n \n   return (\n"
                },
                {
                    "date": 1681869376144,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,9 +1,9 @@\n /*\n  * @Author: Allen OYang\n  * @Email:  allenwill211@gmail.com\n  * @Date: 2023-04-18 17:34:12\n- * @LastEditTime: 2023-04-19 09:55:26\n+ * @LastEditTime: 2023-04-19 09:46:04\n  * @LastEditors: Allen OYang allenwill211@gmail.com\n  * @FilePath: /speak-gpt/src/components/ChatSessionInput.tsx\n  */\n import {\n@@ -19,9 +19,9 @@\n import {\n   IconEdit,\n   IconTrash\n } from \"@tabler/icons-react\";\n-import { useState, useRef, memo, useMemo, useCallback, useEffect } from \"react\";\n+import { useState, useRef, memo, useMemo, useCallback } from \"react\";\n import { findChat, deleteChat, changeChat } from '@/stores/ChatAction'\n \n \n interface ChatSessionInputProps {\n@@ -41,13 +41,9 @@\n     changeChat(props.id, { title: e.target.value })\n   }\n \n \n-  useEffect(() => {   \n-    setEditState(false)\n-  }, [props.title])\n \n-\n   const onEditClick = () => {\n     setEditState(true)\n     setTimeout(() => {\n       inputEl.current?.focus()\n@@ -55,9 +51,9 @@\n   }\n \n   const onEditBlur = useCallback(() => {\n     changeChat(props.id, { title: inputEl.current?.value })\n-   \n+    setEditState(false)\n   }, [props.id])\n \n \n   return (\n"
                },
                {
                    "date": 1681869429789,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,9 +1,9 @@\n /*\n  * @Author: Allen OYang\n  * @Email:  allenwill211@gmail.com\n  * @Date: 2023-04-18 17:34:12\n- * @LastEditTime: 2023-04-19 09:46:04\n+ * @LastEditTime: 2023-04-19 09:57:09\n  * @LastEditors: Allen OYang allenwill211@gmail.com\n  * @FilePath: /speak-gpt/src/components/ChatSessionInput.tsx\n  */\n import {\n@@ -19,9 +19,9 @@\n import {\n   IconEdit,\n   IconTrash\n } from \"@tabler/icons-react\";\n-import { useState, useRef, memo, useMemo, useCallback } from \"react\";\n+import { useState, useRef, memo, useLayoutEffect, useCallback } from \"react\";\n import { findChat, deleteChat, changeChat } from '@/stores/ChatAction'\n \n \n interface ChatSessionInputProps {\n@@ -41,8 +41,11 @@\n     changeChat(props.id, { title: e.target.value })\n   }\n \n \n+  useLayoutEffect(() => {\n+    setEditState(false)\n+  }, [props.title])\n \n   const onEditClick = () => {\n     setEditState(true)\n     setTimeout(() => {\n"
                },
                {
                    "date": 1681869473924,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,9 +1,9 @@\n /*\n  * @Author: Allen OYang\n  * @Email:  allenwill211@gmail.com\n  * @Date: 2023-04-18 17:34:12\n- * @LastEditTime: 2023-04-19 09:57:09\n+ * @LastEditTime: 2023-04-19 09:46:04\n  * @LastEditors: Allen OYang allenwill211@gmail.com\n  * @FilePath: /speak-gpt/src/components/ChatSessionInput.tsx\n  */\n import {\n@@ -19,9 +19,9 @@\n import {\n   IconEdit,\n   IconTrash\n } from \"@tabler/icons-react\";\n-import { useState, useRef, memo, useLayoutEffect, useCallback } from \"react\";\n+import { useState, useRef, memo, useMemo, useCallback } from \"react\";\n import { findChat, deleteChat, changeChat } from '@/stores/ChatAction'\n \n \n interface ChatSessionInputProps {\n@@ -34,19 +34,10 @@\n export const ChatSessionInput = memo((props: ChatSessionInputProps) => {\n   const [editState, setEditState] = useState<boolean>(false)\n   const inputEl = useRef<HTMLInputElement>(null)\n \n-  console.log(props)\n \n-  const onEdit = (e: React.ChangeEvent<HTMLInputElement>) => {\n-    changeChat(props.id, { title: e.target.value })\n-  }\n \n-\n-  useLayoutEffect(() => {\n-    setEditState(false)\n-  }, [props.title])\n-\n   const onEditClick = () => {\n     setEditState(true)\n     setTimeout(() => {\n       inputEl.current?.focus()\n"
                },
                {
                    "date": 1681869551458,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,9 +1,9 @@\n /*\n  * @Author: Allen OYang\n  * @Email:  allenwill211@gmail.com\n  * @Date: 2023-04-18 17:34:12\n- * @LastEditTime: 2023-04-19 09:46:04\n+ * @LastEditTime: 2023-04-19 09:59:10\n  * @LastEditors: Allen OYang allenwill211@gmail.com\n  * @FilePath: /speak-gpt/src/components/ChatSessionInput.tsx\n  */\n import {\n@@ -65,8 +65,13 @@\n             <Input\n               ref={inputEl}\n               defaultValue={props.title}\n               onBlur={onEditBlur}\n+              onKeyDown={(e) => {\n+                if (e.key === 'Enter') {\n+                  onEditBlur()\n+                }\n+              }}\n               size=\"xs\"\n               sx={() => ({\n                 border: 'none',\n                 borderRadius: 0,\n"
                },
                {
                    "date": 1681869630410,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,9 +1,9 @@\n /*\n  * @Author: Allen OYang\n  * @Email:  allenwill211@gmail.com\n  * @Date: 2023-04-18 17:34:12\n- * @LastEditTime: 2023-04-19 09:59:10\n+ * @LastEditTime: 2023-04-19 10:00:30\n  * @LastEditors: Allen OYang allenwill211@gmail.com\n  * @FilePath: /speak-gpt/src/components/ChatSessionInput.tsx\n  */\n import {\n@@ -48,9 +48,11 @@\n     changeChat(props.id, { title: inputEl.current?.value })\n     setEditState(false)\n   }, [props.id])\n \n-\n+  const onDeleteClick = () => {\n+    deleteChat(props.id)\n+  }\n   return (\n     <>\n       <Flex\n         gap=\"md\"\n@@ -97,9 +99,9 @@\n             <IconEdit onClick={onEditClick} size=\"0.75rem\" />\n           </ActionIcon>\n \n           <ActionIcon size=\"xs\" radius=\"md\" variant=\"default\">\n-            <IconTrash onClick={onEditClick} size=\"0.75rem\" />\n+            <IconTrash onClick={onDeleteClick} size=\"0.75rem\" />\n           </ActionIcon>\n         </Group>\n \n \n"
                },
                {
                    "date": 1681869649987,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -103,10 +103,8 @@\n             <IconTrash onClick={onDeleteClick} size=\"0.75rem\" />\n           </ActionIcon>\n         </Group>\n \n-\n-\n       </Flex>\n     </>\n   )\n })\n"
                },
                {
                    "date": 1681970159647,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,12 +1,13 @@\n /*\n  * @Author: Allen OYang\n  * @Email:  allenwill211@gmail.com\n  * @Date: 2023-04-18 17:34:12\n- * @LastEditTime: 2023-04-19 10:00:30\n+ * @LastEditTime: 2023-04-20 13:55:59\n  * @LastEditors: Allen OYang allenwill211@gmail.com\n  * @FilePath: /speak-gpt/src/components/ChatSessionInput.tsx\n  */\n+\n import {\n   Input,\n   Text,\n   Flex,\n"
                },
                {
                    "date": 1681979388226,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -14,40 +14,32 @@\n   ActionIcon,\n   createStyles,\n   Tooltip,\n   Group,\n-  CloseButton\n-} from \"@mantine/core\";\n-import {\n-  IconEdit,\n-  IconTrash\n-} from \"@tabler/icons-react\";\n-import { useState, useRef, memo, useMemo, useCallback } from \"react\";\n+  CloseButton,\n+} from '@mantine/core'\n+import { IconEdit, IconTrash } from '@tabler/icons-react'\n+import { useState, useRef, memo, useMemo, useCallback } from 'react'\n import { findChat, deleteChat, changeChat } from '@/stores/ChatAction'\n \n-\n interface ChatSessionInputProps {\n-  title: string;\n-  id: string;\n+  title: string\n+  id: string\n }\n \n-\n-\n export const ChatSessionInput = memo((props: ChatSessionInputProps) => {\n   const [editState, setEditState] = useState<boolean>(false)\n   const inputEl = useRef<HTMLInputElement>(null)\n \n-\n-\n   const onEditClick = () => {\n     setEditState(true)\n     setTimeout(() => {\n       inputEl.current?.focus()\n     }, 0)\n   }\n \n   const onEditBlur = useCallback(() => {\n-    changeChat(props.id, { title: inputEl.current?.value })\n+    changeChatTitle(props.id, inputEl.current?.value)\n     setEditState(false)\n   }, [props.id])\n \n   const onDeleteClick = () => {\n@@ -60,41 +52,33 @@\n         justify=\"space-between\"\n         align=\"center\"\n         direction=\"row\"\n         wrap=\"wrap\"\n-\n       >\n-        {\n-          editState ?\n-            <Input\n-              ref={inputEl}\n-              defaultValue={props.title}\n-              onBlur={onEditBlur}\n-              onKeyDown={(e) => {\n-                if (e.key === 'Enter') {\n-                  onEditBlur()\n-                }\n-              }}\n-              size=\"xs\"\n-              sx={() => ({\n-                border: 'none',\n-                borderRadius: 0,\n-                flex: 1\n-              })}\n-            />\n-            :\n-            <Tooltip\n-              position=\"top-start\"\n-              withArrow\n-              label={props.title}\n-            >\n-              <Text\n-                sx={() => ({ flex: 1 })}\n-                truncate\n-                size=\"xs\"\n-              >{props.title || ''}</Text>\n-            </Tooltip>\n-        }\n+        {editState ? (\n+          <Input\n+            ref={inputEl}\n+            defaultValue={props.title}\n+            onBlur={onEditBlur}\n+            onKeyDown={(e) => {\n+              if (e.key === 'Enter') {\n+                onEditBlur()\n+              }\n+            }}\n+            size=\"xs\"\n+            sx={() => ({\n+              border: 'none',\n+              borderRadius: 0,\n+              flex: 1,\n+            })}\n+          />\n+        ) : (\n+          <Tooltip position=\"top-start\" withArrow label={props.title}>\n+            <Text sx={() => ({ flex: 1 })} truncate size=\"xs\">\n+              {props.title || ''}\n+            </Text>\n+          </Tooltip>\n+        )}\n \n         <Group>\n           <ActionIcon size=\"xs\" radius=\"md\" variant=\"default\">\n             <IconEdit onClick={onEditClick} size=\"0.75rem\" />\n@@ -103,9 +87,8 @@\n           <ActionIcon size=\"xs\" radius=\"md\" variant=\"default\">\n             <IconTrash onClick={onDeleteClick} size=\"0.75rem\" />\n           </ActionIcon>\n         </Group>\n-\n       </Flex>\n     </>\n   )\n })\n"
                },
                {
                    "date": 1681981231393,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -17,10 +17,10 @@\n   Group,\n   CloseButton,\n } from '@mantine/core'\n import { IconEdit, IconTrash } from '@tabler/icons-react'\n-import { useState, useRef, memo, useMemo, useCallback } from 'react'\n-import { findChat, deleteChat, changeChat } from '@/stores/ChatAction'\n+import { useState, useRef, memo, useCallback } from 'react'\n+import { deleteChat, changeChatTitle } from '@/stores/ChatAction'\n \n interface ChatSessionInputProps {\n   title: string\n   id: string\n"
                }
            ],
            "date": 1681811079909,
            "name": "Commit-0",
            "content": "import { useChatStore } from \"@/stores/ChatStore\";\n\nimport {\n  Input,\n  Text,\n  Group,\n  ActionIcon\n} from \"@mantine/core\";\nimport { IconEdit } from \"@tabler/icons-react\";\nimport { useState } from \"react\";\n\ninterface ChatSessionInputProps {\n  title: string;\n  id: string;\n}\nexport function ChatSessionInput(props: ChatSessionInputProps) {\n  const [editState, setEditState] = useState<boolean>(false)\n  const [inputTitle, setInputTitle] = useState<string>(props.title || '')\n\n\n  const onEdit = (e: React.ChangeEvent<HTMLInputElement>) => {\n    setInputTitle(e.target.value)\n  }\n\n  const onEditClick = () => {\n    setEditState(!editState)\n  }\n\n  return (\n    <>\n\n      <Group position=\"apart\">\n        {\n          editState ? <Input onChange={onEdit} /> : <Text>{inputTitle}</Text>\n        }\n        <ActionIcon>\n          <IconEdit onClick={onEditClick} size=\"1.125rem\" />\n        </ActionIcon>\n      </Group>\n    </>\n  )\n}"
        }
    ]
}