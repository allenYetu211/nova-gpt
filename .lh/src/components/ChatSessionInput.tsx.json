{
    "sourceFile": "src/components/ChatSessionInput.tsx",
    "activeCommit": 0,
    "commits": [
        {
            "activePatchIndex": 33,
            "patches": [
                {
                    "date": 1681811079909,
                    "content": "Index: \n===================================================================\n--- \n+++ \n"
                },
                {
                    "date": 1681811117334,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -30,9 +30,9 @@\n     <>\n \n       <Group position=\"apart\">\n         {\n-          editState ? <Input onChange={onEdit} /> : <Text>{inputTitle}</Text>\n+          editState ? <Input onChange={onEdit} value={inputTitle}/> : <Text>{inputTitle}</Text>\n         }\n         <ActionIcon>\n           <IconEdit onClick={onEditClick} size=\"1.125rem\" />\n         </ActionIcon>\n"
                },
                {
                    "date": 1681811270352,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -30,9 +30,20 @@\n     <>\n \n       <Group position=\"apart\">\n         {\n-          editState ? <Input onChange={onEdit} value={inputTitle}/> : <Text>{inputTitle}</Text>\n+          editState ?\n+            <Input\n+              onChange={onEdit}\n+              value={inputTitle}\n+              sx={() => {\n+                return {\n+                  border: 'none',\n+                }\n+              }}\n+            />\n+            :\n+            <Text>{inputTitle}</Text>\n         }\n         <ActionIcon>\n           <IconEdit onClick={onEditClick} size=\"1.125rem\" />\n         </ActionIcon>\n"
                },
                {
                    "date": 1681811555818,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -0,0 +1,75 @@\n+/*\n+ * @Author: Allen OYang\n+ * @Email:  allenwill211@gmail.com\n+ * @Date: 2023-04-18 17:34:12\n+ * @LastEditTime: 2023-04-18 17:52:35\n+ * @LastEditors: Allen OYang allenwill211@gmail.com\n+ * @FilePath: /speak-gpt/src/components/ChatSessionInput.tsx\n+ */\n+import { useChatStore } from \"@/stores/ChatStore\";\n+\n+import {\n+  Input,\n+  Text,\n+  Flex,\n+  ActionIcon,\n+  createStyles\n+} from \"@mantine/core\";\n+import { IconEdit } from \"@tabler/icons-react\";\n+import { useState } from \"react\";\n+\n+interface ChatSessionInputProps {\n+  title: string;\n+  id: string;\n+}\n+\n+const useStyles = createStyles((theme) => ({\n+  editInput: {\n+    border: 'none',\n+    borderRadius: 0,\n+    borderBottom: `1px solid ${theme.colors.dark[2]}`,\n+  }\n+}));\n+export function ChatSessionInput(props: ChatSessionInputProps) {\n+  const [editState, setEditState] = useState<boolean>(false)\n+  const [inputTitle, setInputTitle] = useState<string>(props.title || '')\n+  const { classes, theme } = useStyles()\n+\n+\n+  const onEdit = (e: React.ChangeEvent<HTMLInputElement>) => {\n+    setInputTitle(e.target.value)\n+  }\n+\n+  const onEditClick = () => {\n+    setEditState(!editState)\n+  }\n+\n+  return (\n+    <>\n+\n+      <Flex\n+        mih={50}\n+        gap=\"md\"\n+        justify=\"space-evenly\"\n+        align=\"center\"\n+        direction=\"row\"\n+        wrap=\"wrap\"\n+      >\n+        {\n+          editState ?\n+            <Input\n+              onChange={onEdit}\n+              value={inputTitle}\n+              size=\"xs\"\n+              className={classes.editInput}\n+            />\n+            :\n+            <Text>{inputTitle}</Text>\n+        }\n+        <ActionIcon>\n+          <IconEdit onClick={onEditClick} size=\"1.125rem\" />\n+        </ActionIcon>\n+      </Flex>\n+    </>\n+  )\n+}\n\\ No newline at end of file\n"
                },
                {
                    "date": 1681811578345,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -47,9 +47,8 @@\n   return (\n     <>\n \n       <Flex\n-        mih={50}\n         gap=\"md\"\n         justify=\"space-evenly\"\n         align=\"center\"\n         direction=\"row\"\n@@ -71,58 +70,5 @@\n         </ActionIcon>\n       </Flex>\n     </>\n   )\n-}\n-import { useChatStore } from \"@/stores/ChatStore\";\n-\n-import {\n-  Input,\n-  Text,\n-  Group,\n-  ActionIcon\n-} from \"@mantine/core\";\n-import { IconEdit } from \"@tabler/icons-react\";\n-import { useState } from \"react\";\n-\n-interface ChatSessionInputProps {\n-  title: string;\n-  id: string;\n-}\n-export function ChatSessionInput(props: ChatSessionInputProps) {\n-  const [editState, setEditState] = useState<boolean>(false)\n-  const [inputTitle, setInputTitle] = useState<string>(props.title || '')\n-\n-\n-  const onEdit = (e: React.ChangeEvent<HTMLInputElement>) => {\n-    setInputTitle(e.target.value)\n-  }\n-\n-  const onEditClick = () => {\n-    setEditState(!editState)\n-  }\n-\n-  return (\n-    <>\n-\n-      <Group position=\"apart\">\n-        {\n-          editState ?\n-            <Input\n-              onChange={onEdit}\n-              value={inputTitle}\n-              sx={() => {\n-                return {\n-                  border: 'none',\n-                }\n-              }}\n-            />\n-            :\n-            <Text>{inputTitle}</Text>\n-        }\n-        <ActionIcon>\n-          <IconEdit onClick={onEditClick} size=\"1.125rem\" />\n-        </ActionIcon>\n-      </Group>\n-    </>\n-  )\n }\n\\ No newline at end of file\n"
                },
                {
                    "date": 1681811591057,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -48,9 +48,9 @@\n     <>\n \n       <Flex\n         gap=\"md\"\n-        justify=\"space-evenly\"\n+        justify=\"space-between\"\n         align=\"center\"\n         direction=\"row\"\n         wrap=\"wrap\"\n       >\n"
                },
                {
                    "date": 1681811612791,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -27,8 +27,9 @@\n   editInput: {\n     border: 'none',\n     borderRadius: 0,\n     borderBottom: `1px solid ${theme.colors.dark[2]}`,\n+    flex: 1\n   }\n }));\n export function ChatSessionInput(props: ChatSessionInputProps) {\n   const [editState, setEditState] = useState<boolean>(false)\n"
                },
                {
                    "date": 1681811668928,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,9 +1,9 @@\n /*\n  * @Author: Allen OYang\n  * @Email:  allenwill211@gmail.com\n  * @Date: 2023-04-18 17:34:12\n- * @LastEditTime: 2023-04-18 17:52:35\n+ * @LastEditTime: 2023-04-18 17:54:28\n  * @LastEditors: Allen OYang allenwill211@gmail.com\n  * @FilePath: /speak-gpt/src/components/ChatSessionInput.tsx\n  */\n import { useChatStore } from \"@/stores/ChatStore\";\n"
                },
                {
                    "date": 1681811742977,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,9 +1,9 @@\n /*\n  * @Author: Allen OYang\n  * @Email:  allenwill211@gmail.com\n  * @Date: 2023-04-18 17:34:12\n- * @LastEditTime: 2023-04-18 17:54:28\n+ * @LastEditTime: 2023-04-18 17:55:42\n  * @LastEditors: Allen OYang allenwill211@gmail.com\n  * @FilePath: /speak-gpt/src/components/ChatSessionInput.tsx\n  */\n import { useChatStore } from \"@/stores/ChatStore\";\n@@ -15,9 +15,9 @@\n   ActionIcon,\n   createStyles\n } from \"@mantine/core\";\n import { IconEdit } from \"@tabler/icons-react\";\n-import { useState } from \"react\";\n+import { useState, useRef } from \"react\";\n \n interface ChatSessionInputProps {\n   title: string;\n   id: string;\n@@ -26,23 +26,27 @@\n const useStyles = createStyles((theme) => ({\n   editInput: {\n     border: 'none',\n     borderRadius: 0,\n-    borderBottom: `1px solid ${theme.colors.dark[2]}`,\n     flex: 1\n   }\n }));\n export function ChatSessionInput(props: ChatSessionInputProps) {\n   const [editState, setEditState] = useState<boolean>(false)\n   const [inputTitle, setInputTitle] = useState<string>(props.title || '')\n-  const { classes, theme } = useStyles()\n \n+  const inputEl = useRef<HTMLInputElement>(null)\n+  const { classes } = useStyles()\n \n+\n   const onEdit = (e: React.ChangeEvent<HTMLInputElement>) => {\n     setInputTitle(e.target.value)\n   }\n \n   const onEditClick = () => {\n+    if (!editState) {\n+      inputEl.current?.focus()\n+    }\n     setEditState(!editState)\n   }\n \n   return (\n@@ -57,8 +61,9 @@\n       >\n         {\n           editState ?\n             <Input\n+              ref={inputEl}\n               onChange={onEdit}\n               value={inputTitle}\n               size=\"xs\"\n               className={classes.editInput}\n"
                },
                {
                    "date": 1681811793730,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -64,8 +64,9 @@\n             <Input\n               ref={inputEl}\n               onChange={onEdit}\n               value={inputTitle}\n+              onBlur={onEditClick}\n               size=\"xs\"\n               className={classes.editInput}\n             />\n             :\n"
                },
                {
                    "date": 1681811901778,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,9 +1,9 @@\n /*\n  * @Author: Allen OYang\n  * @Email:  allenwill211@gmail.com\n  * @Date: 2023-04-18 17:34:12\n- * @LastEditTime: 2023-04-18 17:55:42\n+ * @LastEditTime: 2023-04-18 17:58:21\n  * @LastEditors: Allen OYang allenwill211@gmail.com\n  * @FilePath: /speak-gpt/src/components/ChatSessionInput.tsx\n  */\n import { useChatStore } from \"@/stores/ChatStore\";\n@@ -50,9 +50,8 @@\n   }\n \n   return (\n     <>\n-\n       <Flex\n         gap=\"md\"\n         justify=\"space-between\"\n         align=\"center\"\n@@ -69,9 +68,9 @@\n               size=\"xs\"\n               className={classes.editInput}\n             />\n             :\n-            <Text>{inputTitle}</Text>\n+            <Text size=\"xs\">{inputTitle}</Text>\n         }\n         <ActionIcon>\n           <IconEdit onClick={onEditClick} size=\"1.125rem\" />\n         </ActionIcon>\n"
                },
                {
                    "date": 1681812014236,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,9 +1,9 @@\n /*\n  * @Author: Allen OYang\n  * @Email:  allenwill211@gmail.com\n  * @Date: 2023-04-18 17:34:12\n- * @LastEditTime: 2023-04-18 17:58:21\n+ * @LastEditTime: 2023-04-18 18:00:13\n  * @LastEditors: Allen OYang allenwill211@gmail.com\n  * @FilePath: /speak-gpt/src/components/ChatSessionInput.tsx\n  */\n import { useChatStore } from \"@/stores/ChatStore\";\n@@ -42,12 +42,10 @@\n     setInputTitle(e.target.value)\n   }\n \n   const onEditClick = () => {\n-    if (!editState) {\n-      inputEl.current?.focus()\n-    }\n-    setEditState(!editState)\n+    inputEl.current?.focus()\n+    setEditState(true)\n   }\n \n   return (\n     <>\n@@ -63,9 +61,9 @@\n             <Input\n               ref={inputEl}\n               onChange={onEdit}\n               value={inputTitle}\n-              onBlur={onEditClick}\n+              onBlur={() => { setEditState(false) }}\n               size=\"xs\"\n               className={classes.editInput}\n             />\n             :\n"
                },
                {
                    "date": 1681812031003,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -42,10 +42,10 @@\n     setInputTitle(e.target.value)\n   }\n \n   const onEditClick = () => {\n+    setEditState(true)\n     inputEl.current?.focus()\n-    setEditState(true)\n   }\n \n   return (\n     <>\n"
                },
                {
                    "date": 1681812069376,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -43,9 +43,11 @@\n   }\n \n   const onEditClick = () => {\n     setEditState(true)\n+    setTimeout(() => {\n     inputEl.current?.focus()\n+    }, 0)\n   }\n \n   return (\n     <>\n"
                },
                {
                    "date": 1681812533704,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,14 +1,12 @@\n /*\n  * @Author: Allen OYang\n  * @Email:  allenwill211@gmail.com\n  * @Date: 2023-04-18 17:34:12\n- * @LastEditTime: 2023-04-18 18:00:13\n+ * @LastEditTime: 2023-04-18 18:08:52\n  * @LastEditors: Allen OYang allenwill211@gmail.com\n  * @FilePath: /speak-gpt/src/components/ChatSessionInput.tsx\n  */\n-import { useChatStore } from \"@/stores/ChatStore\";\n-\n import {\n   Input,\n   Text,\n   Flex,\n@@ -16,9 +14,11 @@\n   createStyles\n } from \"@mantine/core\";\n import { IconEdit } from \"@tabler/icons-react\";\n import { useState, useRef } from \"react\";\n+import { findChat, changeChat } from '@/stores/ChatAction'\n \n+\n interface ChatSessionInputProps {\n   title: string;\n   id: string;\n }\n@@ -31,22 +31,23 @@\n   }\n }));\n export function ChatSessionInput(props: ChatSessionInputProps) {\n   const [editState, setEditState] = useState<boolean>(false)\n-  const [inputTitle, setInputTitle] = useState<string>(props.title || '')\n \n+  const chat = findChat(props.id)\n+\n   const inputEl = useRef<HTMLInputElement>(null)\n   const { classes } = useStyles()\n \n \n   const onEdit = (e: React.ChangeEvent<HTMLInputElement>) => {\n-    setInputTitle(e.target.value)\n+    changeChat(props.id, { title: e.target.value })\n   }\n \n   const onEditClick = () => {\n     setEditState(true)\n     setTimeout(() => {\n-    inputEl.current?.focus()\n+      inputEl.current?.focus()\n     }, 0)\n   }\n \n   return (\n@@ -62,15 +63,15 @@\n           editState ?\n             <Input\n               ref={inputEl}\n               onChange={onEdit}\n-              value={inputTitle}\n+              value={chat?.title || ''}\n               onBlur={() => { setEditState(false) }}\n               size=\"xs\"\n               className={classes.editInput}\n             />\n             :\n-            <Text size=\"xs\">{inputTitle}</Text>\n+            <Text size=\"xs\">{chat?.title || ''}</Text>\n         }\n         <ActionIcon>\n           <IconEdit onClick={onEditClick} size=\"1.125rem\" />\n         </ActionIcon>\n"
                },
                {
                    "date": 1681812584421,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -49,8 +49,12 @@\n       inputEl.current?.focus()\n     }, 0)\n   }\n \n+  const onEditBlur = () => {\n+    setEditState(false)\n+  }\n+\n   return (\n     <>\n       <Flex\n         gap=\"md\"\n@@ -64,9 +68,10 @@\n             <Input\n               ref={inputEl}\n               onChange={onEdit}\n               value={chat?.title || ''}\n-              onBlur={() => { setEditState(false) }}\n+              onBlur={onEditBlur}\n+              onEnter={onEditBlur}\n               size=\"xs\"\n               className={classes.editInput}\n             />\n             :\n"
                },
                {
                    "date": 1681812610103,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,9 +1,9 @@\n /*\n  * @Author: Allen OYang\n  * @Email:  allenwill211@gmail.com\n  * @Date: 2023-04-18 17:34:12\n- * @LastEditTime: 2023-04-18 18:08:52\n+ * @LastEditTime: 2023-04-18 18:10:09\n  * @LastEditors: Allen OYang allenwill211@gmail.com\n  * @FilePath: /speak-gpt/src/components/ChatSessionInput.tsx\n  */\n import {\n"
                },
                {
                    "date": 1681812837946,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,9 +1,9 @@\n /*\n  * @Author: Allen OYang\n  * @Email:  allenwill211@gmail.com\n  * @Date: 2023-04-18 17:34:12\n- * @LastEditTime: 2023-04-18 18:10:09\n+ * @LastEditTime: 2023-04-18 18:13:57\n  * @LastEditors: Allen OYang allenwill211@gmail.com\n  * @FilePath: /speak-gpt/src/components/ChatSessionInput.tsx\n  */\n import {\n@@ -61,17 +61,17 @@\n         justify=\"space-between\"\n         align=\"center\"\n         direction=\"row\"\n         wrap=\"wrap\"\n+        \n       >\n         {\n           editState ?\n             <Input\n               ref={inputEl}\n               onChange={onEdit}\n               value={chat?.title || ''}\n               onBlur={onEditBlur}\n-              onEnter={onEditBlur}\n               size=\"xs\"\n               className={classes.editInput}\n             />\n             :\n"
                },
                {
                    "date": 1681812879841,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -31,15 +31,14 @@\n   }\n }));\n export function ChatSessionInput(props: ChatSessionInputProps) {\n   const [editState, setEditState] = useState<boolean>(false)\n-\n   const chat = findChat(props.id)\n-\n   const inputEl = useRef<HTMLInputElement>(null)\n-  const { classes } = useStyles()\n \n+  console.log('ChatSessionInput')\n \n+\n   const onEdit = (e: React.ChangeEvent<HTMLInputElement>) => {\n     changeChat(props.id, { title: e.target.value })\n   }\n \n@@ -53,8 +52,9 @@\n   const onEditBlur = () => {\n     setEditState(false)\n   }\n \n+  const { classes } = useStyles()\n   return (\n     <>\n       <Flex\n         gap=\"md\"\n"
                },
                {
                    "date": 1681812912975,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,9 +1,9 @@\n /*\n  * @Author: Allen OYang\n  * @Email:  allenwill211@gmail.com\n  * @Date: 2023-04-18 17:34:12\n- * @LastEditTime: 2023-04-18 18:13:57\n+ * @LastEditTime: 2023-04-18 18:15:12\n  * @LastEditors: Allen OYang allenwill211@gmail.com\n  * @FilePath: /speak-gpt/src/components/ChatSessionInput.tsx\n  */\n import {\n@@ -34,11 +34,9 @@\n   const [editState, setEditState] = useState<boolean>(false)\n   const chat = findChat(props.id)\n   const inputEl = useRef<HTMLInputElement>(null)\n \n-  console.log('ChatSessionInput')\n \n-\n   const onEdit = (e: React.ChangeEvent<HTMLInputElement>) => {\n     changeChat(props.id, { title: e.target.value })\n   }\n \n"
                },
                {
                    "date": 1681813531360,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,9 +1,9 @@\n /*\n  * @Author: Allen OYang\n  * @Email:  allenwill211@gmail.com\n  * @Date: 2023-04-18 17:34:12\n- * @LastEditTime: 2023-04-18 18:15:12\n+ * @LastEditTime: 2023-04-18 18:25:31\n  * @LastEditors: Allen OYang allenwill211@gmail.com\n  * @FilePath: /speak-gpt/src/components/ChatSessionInput.tsx\n  */\n import {\n@@ -13,9 +13,9 @@\n   ActionIcon,\n   createStyles\n } from \"@mantine/core\";\n import { IconEdit } from \"@tabler/icons-react\";\n-import { useState, useRef } from \"react\";\n+import { useState, useRef, memo } from \"react\";\n import { findChat, changeChat } from '@/stores/ChatAction'\n \n \n interface ChatSessionInputProps {\n@@ -29,9 +29,10 @@\n     borderRadius: 0,\n     flex: 1\n   }\n }));\n-export function ChatSessionInput(props: ChatSessionInputProps) {\n+\n+export const ChatSessionInput = memo((props: ChatSessionInputProps) => {\n   const [editState, setEditState] = useState<boolean>(false)\n   const chat = findChat(props.id)\n   const inputEl = useRef<HTMLInputElement>(null)\n \n@@ -59,9 +60,9 @@\n         justify=\"space-between\"\n         align=\"center\"\n         direction=\"row\"\n         wrap=\"wrap\"\n-        \n+\n       >\n         {\n           editState ?\n             <Input\n@@ -80,5 +81,5 @@\n         </ActionIcon>\n       </Flex>\n     </>\n   )\n-}\n\\ No newline at end of file\n+})\n"
                },
                {
                    "date": 1681816220396,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,9 +1,9 @@\n /*\n  * @Author: Allen OYang\n  * @Email:  allenwill211@gmail.com\n  * @Date: 2023-04-18 17:34:12\n- * @LastEditTime: 2023-04-18 18:25:31\n+ * @LastEditTime: 2023-04-18 19:10:20\n  * @LastEditors: Allen OYang allenwill211@gmail.com\n  * @FilePath: /speak-gpt/src/components/ChatSessionInput.tsx\n  */\n import {\n@@ -15,16 +15,20 @@\n } from \"@mantine/core\";\n import { IconEdit } from \"@tabler/icons-react\";\n import { useState, useRef, memo } from \"react\";\n import { findChat, changeChat } from '@/stores/ChatAction'\n+import { useChatStore } from \"@/stores/ChatStore\";\n \n \n interface ChatSessionInputProps {\n   title: string;\n   id: string;\n }\n \n const useStyles = createStyles((theme) => ({\n+  chatItemActive: {\n+    backgroundColor: theme.colors.dark[4],\n+  },\n   editInput: {\n     border: 'none',\n     borderRadius: 0,\n     flex: 1\n@@ -34,10 +38,12 @@\n export const ChatSessionInput = memo((props: ChatSessionInputProps) => {\n   const [editState, setEditState] = useState<boolean>(false)\n   const chat = findChat(props.id)\n   const inputEl = useRef<HTMLInputElement>(null)\n+  const activeChatId = useChatStore((state) => state.activeChatId)\n \n \n+\n   const onEdit = (e: React.ChangeEvent<HTMLInputElement>) => {\n     changeChat(props.id, { title: e.target.value })\n   }\n \n@@ -60,9 +66,9 @@\n         justify=\"space-between\"\n         align=\"center\"\n         direction=\"row\"\n         wrap=\"wrap\"\n-\n+        className={ activeChatId === props.id && classes.chatItemActive }\n       >\n         {\n           editState ?\n             <Input\n"
                },
                {
                    "date": 1681816248523,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -66,9 +66,9 @@\n         justify=\"space-between\"\n         align=\"center\"\n         direction=\"row\"\n         wrap=\"wrap\"\n-        className={ activeChatId === props.id && classes.chatItemActive }\n+        className={ activeChatId === props.id ? classes.chatItemActive  : ''}\n       >\n         {\n           editState ?\n             <Input\n"
                },
                {
                    "date": 1681816340262,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -0,0 +1,92 @@\n+/*\n+ * @Author: Allen OYang\n+ * @Email:  allenwill211@gmail.com\n+ * @Date: 2023-04-18 17:34:12\n+ * @LastEditTime: 2023-04-18 19:10:20\n+ * @LastEditors: Allen OYang allenwill211@gmail.com\n+ * @FilePath: /speak-gpt/src/components/ChatSessionInput.tsx\n+ */\n+import {\n+  Input,\n+  Text,\n+  Flex,\n+  ActionIcon,\n+  createStyles\n+} from \"@mantine/core\";\n+import { IconEdit } from \"@tabler/icons-react\";\n+import { useState, useRef, memo } from \"react\";\n+import { findChat, changeChat } from '@/stores/ChatAction'\n+import { useChatStore } from \"@/stores/ChatStore\";\n+\n+\n+interface ChatSessionInputProps {\n+  title: string;\n+  id: string;\n+}\n+\n+const useStyles = createStyles((theme) => ({\n+  chatItemActive: {\n+    backgroundColor: theme.colors.dark[4],\n+  },\n+  editInput: {\n+    border: 'none',\n+    borderRadius: 0,\n+    flex: 1\n+  }\n+}));\n+\n+export const ChatSessionInput = memo((props: ChatSessionInputProps) => {\n+  const [editState, setEditState] = useState<boolean>(false)\n+  const chat = findChat(props.id)\n+  const inputEl = useRef<HTMLInputElement>(null)\n+  const activeChatId = useChatStore((state) => state.activeChatId)\n+\n+\n+\n+  const onEdit = (e: React.ChangeEvent<HTMLInputElement>) => {\n+    changeChat(props.id, { title: e.target.value })\n+  }\n+\n+  const onEditClick = () => {\n+    setEditState(true)\n+    setTimeout(() => {\n+      inputEl.current?.focus()\n+    }, 0)\n+  }\n+\n+  const onEditBlur = () => {\n+    setEditState(false)\n+  }\n+\n+  const { classes } = useStyles()\n+  return (\n+    <>\n+      <Flex\n+        gap=\"md\"\n+        justify=\"space-between\"\n+        align=\"center\"\n+        direction=\"row\"\n+        wrap=\"wrap\"\n+        className={activeChatId === props.id ? classes.chatItemActive : ''}\n+        onClick={}\n+      >\n+        {\n+          editState ?\n+            <Input\n+              ref={inputEl}\n+              onChange={onEdit}\n+              value={chat?.title || ''}\n+              onBlur={onEditBlur}\n+              size=\"xs\"\n+              className={classes.editInput}\n+            />\n+            :\n+            <Text size=\"xs\">{chat?.title || ''}</Text>\n+        }\n+        <ActionIcon>\n+          <IconEdit onClick={onEditClick} size=\"1.125rem\" />\n+        </ActionIcon>\n+      </Flex>\n+    </>\n+  )\n+})\n"
                },
                {
                    "date": 1681816394459,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -14,9 +14,9 @@\n   createStyles\n } from \"@mantine/core\";\n import { IconEdit } from \"@tabler/icons-react\";\n import { useState, useRef, memo } from \"react\";\n-import { findChat, changeChat } from '@/stores/ChatAction'\n+import { findChat, changeActiveChatId, changeChat } from '@/stores/ChatAction'\n import { useChatStore } from \"@/stores/ChatStore\";\n \n \n interface ChatSessionInputProps {\n@@ -57,8 +57,11 @@\n   const onEditBlur = () => {\n     setEditState(false)\n   }\n \n+  const onChatClick = () => {\n+    changeActiveChatId(props.id)\n+  }\n   const { classes } = useStyles()\n   return (\n     <>\n       <Flex\n@@ -67,9 +70,9 @@\n         align=\"center\"\n         direction=\"row\"\n         wrap=\"wrap\"\n         className={activeChatId === props.id ? classes.chatItemActive : ''}\n-        onClick={}\n+        onClick={onChatClick}\n       >\n         {\n           editState ?\n             <Input\n@@ -89,95 +92,4 @@\n       </Flex>\n     </>\n   )\n })\n-/*\n- * @Author: Allen OYang\n- * @Email:  allenwill211@gmail.com\n- * @Date: 2023-04-18 17:34:12\n- * @LastEditTime: 2023-04-18 19:10:20\n- * @LastEditors: Allen OYang allenwill211@gmail.com\n- * @FilePath: /speak-gpt/src/components/ChatSessionInput.tsx\n- */\n-import {\n-  Input,\n-  Text,\n-  Flex,\n-  ActionIcon,\n-  createStyles\n-} from \"@mantine/core\";\n-import { IconEdit } from \"@tabler/icons-react\";\n-import { useState, useRef, memo } from \"react\";\n-import { findChat, changeChat } from '@/stores/ChatAction'\n-import { useChatStore } from \"@/stores/ChatStore\";\n-\n-\n-interface ChatSessionInputProps {\n-  title: string;\n-  id: string;\n-}\n-\n-const useStyles = createStyles((theme) => ({\n-  chatItemActive: {\n-    backgroundColor: theme.colors.dark[4],\n-  },\n-  editInput: {\n-    border: 'none',\n-    borderRadius: 0,\n-    flex: 1\n-  }\n-}));\n-\n-export const ChatSessionInput = memo((props: ChatSessionInputProps) => {\n-  const [editState, setEditState] = useState<boolean>(false)\n-  const chat = findChat(props.id)\n-  const inputEl = useRef<HTMLInputElement>(null)\n-  const activeChatId = useChatStore((state) => state.activeChatId)\n-\n-\n-\n-  const onEdit = (e: React.ChangeEvent<HTMLInputElement>) => {\n-    changeChat(props.id, { title: e.target.value })\n-  }\n-\n-  const onEditClick = () => {\n-    setEditState(true)\n-    setTimeout(() => {\n-      inputEl.current?.focus()\n-    }, 0)\n-  }\n-\n-  const onEditBlur = () => {\n-    setEditState(false)\n-  }\n-\n-  const { classes } = useStyles()\n-  return (\n-    <>\n-      <Flex\n-        gap=\"md\"\n-        justify=\"space-between\"\n-        align=\"center\"\n-        direction=\"row\"\n-        wrap=\"wrap\"\n-        className={ activeChatId === props.id ? classes.chatItemActive  : ''}\n-      >\n-        {\n-          editState ?\n-            <Input\n-              ref={inputEl}\n-              onChange={onEdit}\n-              value={chat?.title || ''}\n-              onBlur={onEditBlur}\n-              size=\"xs\"\n-              className={classes.editInput}\n-            />\n-            :\n-            <Text size=\"xs\">{chat?.title || ''}</Text>\n-        }\n-        <ActionIcon>\n-          <IconEdit onClick={onEditClick} size=\"1.125rem\" />\n-        </ActionIcon>\n-      </Flex>\n-    </>\n-  )\n-})\n"
                },
                {
                    "date": 1681816606126,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -14,21 +14,18 @@\n   createStyles\n } from \"@mantine/core\";\n import { IconEdit } from \"@tabler/icons-react\";\n import { useState, useRef, memo } from \"react\";\n-import { findChat, changeActiveChatId, changeChat } from '@/stores/ChatAction'\n-import { useChatStore } from \"@/stores/ChatStore\";\n+import { findChat,  changeChat } from '@/stores/ChatAction'\n \n \n interface ChatSessionInputProps {\n   title: string;\n   id: string;\n }\n \n const useStyles = createStyles((theme) => ({\n-  chatItemActive: {\n-    backgroundColor: theme.colors.dark[4],\n-  },\n+ \n   editInput: {\n     border: 'none',\n     borderRadius: 0,\n     flex: 1\n@@ -38,9 +35,8 @@\n export const ChatSessionInput = memo((props: ChatSessionInputProps) => {\n   const [editState, setEditState] = useState<boolean>(false)\n   const chat = findChat(props.id)\n   const inputEl = useRef<HTMLInputElement>(null)\n-  const activeChatId = useChatStore((state) => state.activeChatId)\n \n \n \n   const onEdit = (e: React.ChangeEvent<HTMLInputElement>) => {\n@@ -57,11 +53,9 @@\n   const onEditBlur = () => {\n     setEditState(false)\n   }\n \n-  const onChatClick = () => {\n-    changeActiveChatId(props.id)\n-  }\n+ \n   const { classes } = useStyles()\n   return (\n     <>\n       <Flex\n@@ -69,10 +63,9 @@\n         justify=\"space-between\"\n         align=\"center\"\n         direction=\"row\"\n         wrap=\"wrap\"\n-        className={activeChatId === props.id ? classes.chatItemActive : ''}\n-        onClick={onChatClick}\n+       \n       >\n         {\n           editState ?\n             <Input\n"
                },
                {
                    "date": 1681831622627,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,9 +1,9 @@\n /*\n  * @Author: Allen OYang\n  * @Email:  allenwill211@gmail.com\n  * @Date: 2023-04-18 17:34:12\n- * @LastEditTime: 2023-04-18 19:10:20\n+ * @LastEditTime: 2023-04-18 23:27:02\n  * @LastEditors: Allen OYang allenwill211@gmail.com\n  * @FilePath: /speak-gpt/src/components/ChatSessionInput.tsx\n  */\n import {\n@@ -56,33 +56,33 @@\n \n  \n   const { classes } = useStyles()\n   return (\n-    <>\n-      <Flex\n-        gap=\"md\"\n-        justify=\"space-between\"\n-        align=\"center\"\n-        direction=\"row\"\n-        wrap=\"wrap\"\n+    // <>\n+    //   <Flex\n+    //     gap=\"md\"\n+    //     justify=\"space-between\"\n+    //     align=\"center\"\n+    //     direction=\"row\"\n+    //     wrap=\"wrap\"\n        \n-      >\n-        {\n-          editState ?\n-            <Input\n-              ref={inputEl}\n-              onChange={onEdit}\n-              value={chat?.title || ''}\n-              onBlur={onEditBlur}\n-              size=\"xs\"\n-              className={classes.editInput}\n-            />\n-            :\n-            <Text size=\"xs\">{chat?.title || ''}</Text>\n-        }\n-        <ActionIcon>\n-          <IconEdit onClick={onEditClick} size=\"1.125rem\" />\n-        </ActionIcon>\n-      </Flex>\n-    </>\n+    //   >\n+    //     {\n+    //       editState ?\n+    //         <Input\n+    //           ref={inputEl}\n+    //           onChange={onEdit}\n+    //           value={chat?.title || ''}\n+    //           onBlur={onEditBlur}\n+    //           size=\"xs\"\n+    //           className={classes.editInput}\n+    //         />\n+    //         :\n+    //         <Text size=\"xs\">{chat?.title || ''}</Text>\n+    //     }\n+    //     <ActionIcon>\n+    //       <IconEdit onClick={onEditClick} size=\"1.125rem\" />\n+    //     </ActionIcon>\n+    //   </Flex>\n+    // </>\n   )\n })\n"
                },
                {
                    "date": 1681831634163,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -56,8 +56,9 @@\n \n  \n   const { classes } = useStyles()\n   return (\n+    <></>\n     // <>\n     //   <Flex\n     //     gap=\"md\"\n     //     justify=\"space-between\"\n"
                },
                {
                    "date": 1681831657277,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,9 +1,9 @@\n /*\n  * @Author: Allen OYang\n  * @Email:  allenwill211@gmail.com\n  * @Date: 2023-04-18 17:34:12\n- * @LastEditTime: 2023-04-18 23:27:02\n+ * @LastEditTime: 2023-04-18 19:10:20\n  * @LastEditors: Allen OYang allenwill211@gmail.com\n  * @FilePath: /speak-gpt/src/components/ChatSessionInput.tsx\n  */\n import {\n@@ -56,34 +56,33 @@\n \n  \n   const { classes } = useStyles()\n   return (\n-    <></>\n-    // <>\n-    //   <Flex\n-    //     gap=\"md\"\n-    //     justify=\"space-between\"\n-    //     align=\"center\"\n-    //     direction=\"row\"\n-    //     wrap=\"wrap\"\n+    <>\n+      <Flex\n+        gap=\"md\"\n+        justify=\"space-between\"\n+        align=\"center\"\n+        direction=\"row\"\n+        wrap=\"wrap\"\n        \n-    //   >\n-    //     {\n-    //       editState ?\n-    //         <Input\n-    //           ref={inputEl}\n-    //           onChange={onEdit}\n-    //           value={chat?.title || ''}\n-    //           onBlur={onEditBlur}\n-    //           size=\"xs\"\n-    //           className={classes.editInput}\n-    //         />\n-    //         :\n-    //         <Text size=\"xs\">{chat?.title || ''}</Text>\n-    //     }\n-    //     <ActionIcon>\n-    //       <IconEdit onClick={onEditClick} size=\"1.125rem\" />\n-    //     </ActionIcon>\n-    //   </Flex>\n-    // </>\n+      >\n+        {\n+          editState ?\n+            <Input\n+              ref={inputEl}\n+              onChange={onEdit}\n+              value={chat?.title || ''}\n+              onBlur={onEditBlur}\n+              size=\"xs\"\n+              className={classes.editInput}\n+            />\n+            :\n+            <Text size=\"xs\">{chat?.title || ''}</Text>\n+        }\n+        <ActionIcon>\n+          <IconEdit onClick={onEditClick} size=\"1.125rem\" />\n+        </ActionIcon>\n+      </Flex>\n+    </>\n   )\n })\n"
                },
                {
                    "date": 1681833728423,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,9 +1,9 @@\n /*\n  * @Author: Allen OYang\n  * @Email:  allenwill211@gmail.com\n  * @Date: 2023-04-18 17:34:12\n- * @LastEditTime: 2023-04-18 19:10:20\n+ * @LastEditTime: 2023-04-19 00:02:08\n  * @LastEditors: Allen OYang allenwill211@gmail.com\n  * @FilePath: /speak-gpt/src/components/ChatSessionInput.tsx\n  */\n import {\n@@ -76,9 +76,9 @@\n               size=\"xs\"\n               className={classes.editInput}\n             />\n             :\n-            <Text size=\"xs\">{chat?.title || ''}</Text>\n+            <Text  truncate size=\"xs\">{chat?.title || ''}</Text>\n         }\n         <ActionIcon>\n           <IconEdit onClick={onEditClick} size=\"1.125rem\" />\n         </ActionIcon>\n"
                },
                {
                    "date": 1681833767650,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -14,18 +14,18 @@\n   createStyles\n } from \"@mantine/core\";\n import { IconEdit } from \"@tabler/icons-react\";\n import { useState, useRef, memo } from \"react\";\n-import { findChat,  changeChat } from '@/stores/ChatAction'\n+import { findChat, changeChat } from '@/stores/ChatAction'\n \n \n interface ChatSessionInputProps {\n   title: string;\n   id: string;\n }\n \n const useStyles = createStyles((theme) => ({\n- \n+\n   editInput: {\n     border: 'none',\n     borderRadius: 0,\n     flex: 1\n@@ -53,9 +53,9 @@\n   const onEditBlur = () => {\n     setEditState(false)\n   }\n \n- \n+\n   const { classes } = useStyles()\n   return (\n     <>\n       <Flex\n@@ -63,9 +63,9 @@\n         justify=\"space-between\"\n         align=\"center\"\n         direction=\"row\"\n         wrap=\"wrap\"\n-       \n+\n       >\n         {\n           editState ?\n             <Input\n@@ -76,9 +76,11 @@\n               size=\"xs\"\n               className={classes.editInput}\n             />\n             :\n-            <Text  truncate size=\"xs\">{chat?.title || ''}</Text>\n+            <Text\n+              sx={() => { return { flex: 1 } }}\n+              truncate size=\"xs\">{chat?.title || ''}</Text>\n         }\n         <ActionIcon>\n           <IconEdit onClick={onEditClick} size=\"1.125rem\" />\n         </ActionIcon>\n"
                },
                {
                    "date": 1681833890273,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,18 +1,19 @@\n /*\n  * @Author: Allen OYang\n  * @Email:  allenwill211@gmail.com\n  * @Date: 2023-04-18 17:34:12\n- * @LastEditTime: 2023-04-19 00:02:08\n+ * @LastEditTime: 2023-04-19 00:04:50\n  * @LastEditors: Allen OYang allenwill211@gmail.com\n  * @FilePath: /speak-gpt/src/components/ChatSessionInput.tsx\n  */\n import {\n   Input,\n   Text,\n   Flex,\n   ActionIcon,\n-  createStyles\n+  createStyles,\n+  Tooltip\n } from \"@mantine/core\";\n import { IconEdit } from \"@tabler/icons-react\";\n import { useState, useRef, memo } from \"react\";\n import { findChat, changeChat } from '@/stores/ChatAction'\n@@ -22,16 +23,9 @@\n   title: string;\n   id: string;\n }\n \n-const useStyles = createStyles((theme) => ({\n \n-  editInput: {\n-    border: 'none',\n-    borderRadius: 0,\n-    flex: 1\n-  }\n-}));\n \n export const ChatSessionInput = memo((props: ChatSessionInputProps) => {\n   const [editState, setEditState] = useState<boolean>(false)\n   const chat = findChat(props.id)\n@@ -54,9 +48,8 @@\n     setEditState(false)\n   }\n \n \n-  const { classes } = useStyles()\n   return (\n     <>\n       <Flex\n         gap=\"md\"\n@@ -73,15 +66,23 @@\n               onChange={onEdit}\n               value={chat?.title || ''}\n               onBlur={onEditBlur}\n               size=\"xs\"\n-              className={classes.editInput}\n+              sx={() => ({\n+                border: 'none',\n+                borderRadius: 0,\n+                flex: 1\n+              })}\n             />\n             :\n-            <Text\n-              sx={() => { return { flex: 1 } }}\n-              truncate size=\"xs\">{chat?.title || ''}</Text>\n+            <Tooltip label=\"Tooltip\">\n+              <Text\n+                sx={() => ({ flex: 1 })}\n+                truncate size=\"xs\">{chat?.title || ''}</Text>\n+            </Tooltip>\n         }\n+\n+\n         <ActionIcon>\n           <IconEdit onClick={onEditClick} size=\"1.125rem\" />\n         </ActionIcon>\n       </Flex>\n"
                },
                {
                    "date": 1681833928503,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -30,10 +30,8 @@\n   const [editState, setEditState] = useState<boolean>(false)\n   const chat = findChat(props.id)\n   const inputEl = useRef<HTMLInputElement>(null)\n \n-\n-\n   const onEdit = (e: React.ChangeEvent<HTMLInputElement>) => {\n     changeChat(props.id, { title: e.target.value })\n   }\n \n@@ -73,9 +71,9 @@\n                 flex: 1\n               })}\n             />\n             :\n-            <Tooltip label=\"Tooltip\">\n+            <Tooltip label={chat?.title}>\n               <Text\n                 sx={() => ({ flex: 1 })}\n                 truncate size=\"xs\">{chat?.title || ''}</Text>\n             </Tooltip>\n"
                },
                {
                    "date": 1681833984961,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,9 +1,9 @@\n /*\n  * @Author: Allen OYang\n  * @Email:  allenwill211@gmail.com\n  * @Date: 2023-04-18 17:34:12\n- * @LastEditTime: 2023-04-19 00:04:50\n+ * @LastEditTime: 2023-04-19 00:06:24\n  * @LastEditors: Allen OYang allenwill211@gmail.com\n  * @FilePath: /speak-gpt/src/components/ChatSessionInput.tsx\n  */\n import {\n@@ -71,9 +71,12 @@\n                 flex: 1\n               })}\n             />\n             :\n-            <Tooltip label={chat?.title}>\n+            <Tooltip\n+              position=\"top-start\"\n+              withArrow\n+              label={chat?.title}>\n               <Text\n                 sx={() => ({ flex: 1 })}\n                 truncate size=\"xs\">{chat?.title || ''}</Text>\n             </Tooltip>\n"
                }
            ],
            "date": 1681811079909,
            "name": "Commit-0",
            "content": "import { useChatStore } from \"@/stores/ChatStore\";\n\nimport {\n  Input,\n  Text,\n  Group,\n  ActionIcon\n} from \"@mantine/core\";\nimport { IconEdit } from \"@tabler/icons-react\";\nimport { useState } from \"react\";\n\ninterface ChatSessionInputProps {\n  title: string;\n  id: string;\n}\nexport function ChatSessionInput(props: ChatSessionInputProps) {\n  const [editState, setEditState] = useState<boolean>(false)\n  const [inputTitle, setInputTitle] = useState<string>(props.title || '')\n\n\n  const onEdit = (e: React.ChangeEvent<HTMLInputElement>) => {\n    setInputTitle(e.target.value)\n  }\n\n  const onEditClick = () => {\n    setEditState(!editState)\n  }\n\n  return (\n    <>\n\n      <Group position=\"apart\">\n        {\n          editState ? <Input onChange={onEdit} /> : <Text>{inputTitle}</Text>\n        }\n        <ActionIcon>\n          <IconEdit onClick={onEditClick} size=\"1.125rem\" />\n        </ActionIcon>\n      </Group>\n    </>\n  )\n}"
        }
    ]
}